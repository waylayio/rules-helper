!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).waylay=e()}(this,(function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e,r,n,o,a,i){try{var s=t[a](i),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,o)}function r(t){return function(){var r=this,n=arguments;return new Promise((function(o,a){var i=t.apply(r,n);function s(t){e(i,o,a,s,u,"next",t)}function u(t){e(i,o,a,s,u,"throw",t)}s(void 0)}))}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?p(t):e}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}var y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function g(t,e){return t(e={exports:{}},e.exports),e.exports}var m=function(t){return t&&t.Math==Math&&t},b=m("object"==typeof globalThis&&globalThis)||m("object"==typeof window&&window)||m("object"==typeof self&&self)||m("object"==typeof y&&y)||Function("return this")(),_=function(t){try{return!!t()}catch(t){return!0}},w=!_((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),j={}.propertyIsEnumerable,k=Object.getOwnPropertyDescriptor,O={f:k&&!j.call({1:2},1)?function(t){var e=k(this,t);return!!e&&e.enumerable}:j},E=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},S={}.toString,q=function(t){return S.call(t).slice(8,-1)},C="".split,x=_((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==q(t)?C.call(t,""):Object(t)}:Object,T=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},A=function(t){return x(T(t))},P=function(t){return"object"==typeof t?null!==t:"function"==typeof t},U=function(t,e){if(!P(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!P(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!P(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!P(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},F={}.hasOwnProperty,R=function(t,e){return F.call(t,e)},I=b.document,L=P(I)&&P(I.createElement),D=function(t){return L?I.createElement(t):{}},N=!w&&!_((function(){return 7!=Object.defineProperty(D("div"),"a",{get:function(){return 7}}).a})),B=Object.getOwnPropertyDescriptor,M={f:w?B:function(t,e){if(t=A(t),e=U(e,!0),N)try{return B(t,e)}catch(t){}if(R(t,e))return E(!O.f.call(t,e),t[e])}},$=function(t){if(!P(t))throw TypeError(String(t)+" is not an object");return t},z=Object.defineProperty,G={f:w?z:function(t,e,r){if($(t),e=U(e,!0),$(r),N)try{return z(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},K=w?function(t,e,r){return G.f(t,e,E(1,r))}:function(t,e,r){return t[e]=r,t},W=function(t,e){try{K(b,t,e)}catch(r){b[t]=e}return e},V=b["__core-js_shared__"]||W("__core-js_shared__",{}),X=Function.toString;"function"!=typeof V.inspectSource&&(V.inspectSource=function(t){return X.call(t)});var H,J,Y,Q=V.inspectSource,Z=b.WeakMap,tt="function"==typeof Z&&/native code/.test(Q(Z)),et=g((function(t){(t.exports=function(t,e){return V[t]||(V[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),rt=0,nt=Math.random(),ot=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++rt+nt).toString(36)},at=et("keys"),it=function(t){return at[t]||(at[t]=ot(t))},st={},ut=b.WeakMap;if(tt){var ct=new ut,ft=ct.get,lt=ct.has,ht=ct.set;H=function(t,e){return ht.call(ct,t,e),e},J=function(t){return ft.call(ct,t)||{}},Y=function(t){return lt.call(ct,t)}}else{var pt=it("state");st[pt]=!0,H=function(t,e){return K(t,pt,e),e},J=function(t){return R(t,pt)?t[pt]:{}},Y=function(t){return R(t,pt)}}var dt={set:H,get:J,has:Y,enforce:function(t){return Y(t)?J(t):H(t,{})},getterFor:function(t){return function(e){var r;if(!P(e)||(r=J(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},vt=g((function(t){var e=dt.get,r=dt.enforce,n=String(String).split("String");(t.exports=function(t,e,o,a){var i=!!a&&!!a.unsafe,s=!!a&&!!a.enumerable,u=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof e||R(o,"name")||K(o,"name",e),r(o).source=n.join("string"==typeof e?e:"")),t!==b?(i?!u&&t[e]&&(s=!0):delete t[e],s?t[e]=o:K(t,e,o)):s?t[e]=o:W(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||Q(this)}))})),yt=b,gt=function(t){return"function"==typeof t?t:void 0},mt=function(t,e){return arguments.length<2?gt(yt[t])||gt(b[t]):yt[t]&&yt[t][e]||b[t]&&b[t][e]},bt=Math.ceil,_t=Math.floor,wt=function(t){return isNaN(t=+t)?0:(t>0?_t:bt)(t)},jt=Math.min,kt=function(t){return t>0?jt(wt(t),9007199254740991):0},Ot=Math.max,Et=Math.min,St=function(t,e){var r=wt(t);return r<0?Ot(r+e,0):Et(r,e)},qt=function(t){return function(e,r,n){var o,a=A(e),i=kt(a.length),s=St(n,i);if(t&&r!=r){for(;i>s;)if((o=a[s++])!=o)return!0}else for(;i>s;s++)if((t||s in a)&&a[s]===r)return t||s||0;return!t&&-1}},Ct={includes:qt(!0),indexOf:qt(!1)}.indexOf,xt=function(t,e){var r,n=A(t),o=0,a=[];for(r in n)!R(st,r)&&R(n,r)&&a.push(r);for(;e.length>o;)R(n,r=e[o++])&&(~Ct(a,r)||a.push(r));return a},Tt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],At=Tt.concat("length","prototype"),Pt={f:Object.getOwnPropertyNames||function(t){return xt(t,At)}},Ut={f:Object.getOwnPropertySymbols},Ft=mt("Reflect","ownKeys")||function(t){var e=Pt.f($(t)),r=Ut.f;return r?e.concat(r(t)):e},Rt=function(t,e){for(var r=Ft(e),n=G.f,o=M.f,a=0;a<r.length;a++){var i=r[a];R(t,i)||n(t,i,o(e,i))}},It=/#|\.prototype\./,Lt=function(t,e){var r=Nt[Dt(t)];return r==Mt||r!=Bt&&("function"==typeof e?_(e):!!e)},Dt=Lt.normalize=function(t){return String(t).replace(It,".").toLowerCase()},Nt=Lt.data={},Bt=Lt.NATIVE="N",Mt=Lt.POLYFILL="P",$t=Lt,zt=M.f,Gt=function(t,e){var r,n,o,a,i,s=t.target,u=t.global,c=t.stat;if(r=u?b:c?b[s]||W(s,{}):(b[s]||{}).prototype)for(n in e){if(a=e[n],o=t.noTargetGet?(i=zt(r,n))&&i.value:r[n],!$t(u?n:s+(c?".":"#")+n,t.forced)&&void 0!==o){if(typeof a==typeof o)continue;Rt(a,o)}(t.sham||o&&o.sham)&&K(a,"sham",!0),vt(r,n,a,t)}},Kt=Object.keys||function(t){return xt(t,Tt)},Wt=function(t){return Object(T(t))},Vt=Object.assign,Xt=Object.defineProperty,Ht=!Vt||_((function(){if(w&&1!==Vt({b:1},Vt(Xt({},"a",{enumerable:!0,get:function(){Xt(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol();return t[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=Vt({},t)[r]||"abcdefghijklmnopqrst"!=Kt(Vt({},e)).join("")}))?function(t,e){for(var r=Wt(t),n=arguments.length,o=1,a=Ut.f,i=O.f;n>o;)for(var s,u=x(arguments[o++]),c=a?Kt(u).concat(a(u)):Kt(u),f=c.length,l=0;f>l;)s=c[l++],w&&!i.call(u,s)||(r[s]=u[s]);return r}:Vt;Gt({target:"Object",stat:!0,forced:Object.assign!==Ht},{assign:Ht});g((function(t){var e=function(t){var e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new j(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return O()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=b(i,r);if(s){if(s===c)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var f=u(t,e,r);if("normal"===f.type){if(n=r.done?"completed":"suspendedYield",f.arg===c)continue;return{value:f.arg,done:r.done}}"throw"===f.type&&(n="completed",r.method="throw",r.arg=f.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var c={};function f(){}function l(){}function h(){}var p={};p[o]=function(){return this};var d=Object.getPrototypeOf,v=d&&d(d(k([])));v&&v!==e&&r.call(v,o)&&(p=v);var y=h.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function m(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,s){var c=u(t[o],t,a);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(l).then((function(t){f.value=t,i(f)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,c;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return l.prototype=y.constructor=h,h.constructor=l,h[i]=l.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(m.prototype),m.prototype[a]=function(){return this},t.AsyncIterator=m,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new m(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),y[i]="Generator",y[o]=function(){return this},y.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;w(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));var Jt=1e3,Yt=6e4,Qt=36e5,Zt=24*Qt,te=function(t,e){e=e||{};var r=typeof t;if("string"===r&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var r=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return r*Zt;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Qt;case"minutes":case"minute":case"mins":case"min":case"m":return r*Yt;case"seconds":case"second":case"secs":case"sec":case"s":return r*Jt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(t);if("number"===r&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=Zt)return ee(t,e,Zt,"day");if(e>=Qt)return ee(t,e,Qt,"hour");if(e>=Yt)return ee(t,e,Yt,"minute");if(e>=Jt)return ee(t,e,Jt,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=Zt)return Math.round(t/Zt)+"d";if(e>=Qt)return Math.round(t/Qt)+"h";if(e>=Yt)return Math.round(t/Yt)+"m";if(e>=Jt)return Math.round(t/Jt)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function ee(t,e,r,n){var o=e>=1.5*r;return Math.round(t/r)+" "+n+(o?"s":"")}var re=function(t){function e(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){var a;function i(){if(i.enabled){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=i,s=Number(new Date),u=s-(a||s);o.diff=u,o.prev=a,o.curr=s,a=s,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");var c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(function(t,n){if("%%"===t)return t;c++;var a=r.formatters[n];if("function"==typeof a){var i=e[c];t=a.call(o,i),e.splice(c,1),c--}return t})),r.formatArgs.call(o,e);var f=o.log||r.log;f.apply(o,e)}}return i.namespace=t,i.enabled=r.enabled(t),i.useColors=r.useColors(),i.color=e(t),i.destroy=n,i.extend=o,"function"==typeof r.init&&r.init(i),r.instances.push(i),i}function n(){var t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function o(t,e){return r(this.namespace+(void 0===e?":":e)+t)}return r.debug=r,r.default=r,r.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},r.disable=function(){r.enable("")},r.enable=function(t){var e;r.save(t),r.names=[],r.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(e=0;e<o;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){var a=r.instances[e];a.enabled=r.enabled(a.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=te,Object.keys(t).forEach((function(e){r[e]=t[e]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r},ne=g((function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.log=function(){var t;return"object"===("undefined"==typeof console?"undefined":r(console))&&console.log&&(t=console).log.apply(t,arguments)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var n=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(n++,"%c"===t&&(o=n))})),e.splice(o,0,r)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(t){}!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=re(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}})),oe=(ne.log,ne.formatArgs,ne.save,ne.load,ne.useColors,ne.storage,ne.colors,(t,e)=>{if("string"!=typeof t)throw new TypeError(`Expected \`url\` to be of type \`string\`, got \`${typeof t}\``);return t=t.trim(),e=Object.assign({https:!1},e),/^\.*\/|^(?!localhost)\w+:/.test(t)?t:t.replace(/^(?!(?:\w+:)?\/\/)/,e.https?"https://":"http://")}),ae=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}},ie=Object.prototype.toString;function se(t){return"[object Array]"===ie.call(t)}function ue(t){return void 0===t}function ce(t){return null!==t&&"object"==typeof t}function fe(t){if("[object Object]"!==ie.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function le(t){return"[object Function]"===ie.call(t)}function he(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),se(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}var pe={isArray:se,isArrayBuffer:function(t){return"[object ArrayBuffer]"===ie.call(t)},isBuffer:function(t){return null!==t&&!ue(t)&&null!==t.constructor&&!ue(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:ce,isPlainObject:fe,isUndefined:ue,isDate:function(t){return"[object Date]"===ie.call(t)},isFile:function(t){return"[object File]"===ie.call(t)},isBlob:function(t){return"[object Blob]"===ie.call(t)},isFunction:le,isStream:function(t){return ce(t)&&le(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:he,merge:function t(){var e={};function r(r,n){fe(e[n])&&fe(r)?e[n]=t(e[n],r):fe(r)?e[n]=t({},r):se(r)?e[n]=r.slice():e[n]=r}for(var n=0,o=arguments.length;n<o;n++)he(arguments[n],r);return e},extend:function(t,e,r){return he(e,(function(e,n){t[n]=r&&"function"==typeof e?ae(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}};function de(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ve=function(t,e,r){if(!e)return t;var n;if(r)n=r(e);else if(pe.isURLSearchParams(e))n=e.toString();else{var o=[];pe.forEach(e,(function(t,e){null!=t&&(pe.isArray(t)?e+="[]":t=[t],pe.forEach(t,(function(t){pe.isDate(t)?t=t.toISOString():pe.isObject(t)&&(t=JSON.stringify(t)),o.push(de(e)+"="+de(t))})))})),n=o.join("&")}if(n){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+n}return t};function ye(){this.handlers=[]}ye.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},ye.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},ye.prototype.forEach=function(t){pe.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var ge=ye,me=function(t,e){pe.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))},be=function(t,e,r,n,o){return t.config=e,r&&(t.code=r),t.request=n,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},_e=function(t,e,r,n,o){var a=new Error(t);return be(a,e,r,n,o)},we=pe.isStandardBrowserEnv()?{write:function(t,e,r,n,o,a){var i=[];i.push(t+"="+encodeURIComponent(e)),pe.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),pe.isString(n)&&i.push("path="+n),pe.isString(o)&&i.push("domain="+o),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},je=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],ke=pe.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=n(window.location.href),function(e){var r=pe.isString(e)?n(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0},Oe=function(t){return new Promise((function(e,r){var n=t.data,o=t.headers,a=t.responseType;pe.isFormData(n)&&delete o["Content-Type"];var i=new XMLHttpRequest;if(t.auth){var s=t.auth.username||"",u=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.Authorization="Basic "+btoa(s+":"+u)}var c,f,l=(c=t.baseURL,f=t.url,c&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(f)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(c,f):f);function h(){if(i){var n="getAllResponseHeaders"in i?function(t){var e,r,n,o={};return t?(pe.forEach(t.split("\n"),(function(t){if(n=t.indexOf(":"),e=pe.trim(t.substr(0,n)).toLowerCase(),r=pe.trim(t.substr(n+1)),e){if(o[e]&&je.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([r]):o[e]?o[e]+", "+r:r}})),o):o}(i.getAllResponseHeaders()):null,o={data:a&&"text"!==a&&"json"!==a?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:n,config:t,request:i};!function(t,e,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(_e("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}(e,r,o),i=null}}if(i.open(t.method.toUpperCase(),ve(l,t.params,t.paramsSerializer),!0),i.timeout=t.timeout,"onloadend"in i?i.onloadend=h:i.onreadystatechange=function(){i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))&&setTimeout(h)},i.onabort=function(){i&&(r(_e("Request aborted",t,"ECONNABORTED",i)),i=null)},i.onerror=function(){r(_e("Network Error",t,null,i)),i=null},i.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(_e(e,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",i)),i=null},pe.isStandardBrowserEnv()){var p=(t.withCredentials||ke(l))&&t.xsrfCookieName?we.read(t.xsrfCookieName):void 0;p&&(o[t.xsrfHeaderName]=p)}"setRequestHeader"in i&&pe.forEach(o,(function(t,e){void 0===n&&"content-type"===e.toLowerCase()?delete o[e]:i.setRequestHeader(e,t)})),pe.isUndefined(t.withCredentials)||(i.withCredentials=!!t.withCredentials),a&&"json"!==a&&(i.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&i.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){i&&(i.abort(),r(t),i=null)})),n||(n=null),i.send(n)}))},Ee={"Content-Type":"application/x-www-form-urlencoded"};function Se(t,e){!pe.isUndefined(t)&&pe.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var qe,Ce={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?qe=Oe:"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(qe=Oe),qe),transformRequest:[function(t,e){return me(e,"Accept"),me(e,"Content-Type"),pe.isFormData(t)||pe.isArrayBuffer(t)||pe.isBuffer(t)||pe.isStream(t)||pe.isFile(t)||pe.isBlob(t)?t:pe.isArrayBufferView(t)?t.buffer:pe.isURLSearchParams(t)?(Se(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):pe.isObject(t)||e&&"application/json"===e["Content-Type"]?(Se(e,"application/json"),JSON.stringify(t)):t}],transformResponse:[function(t){var e=this.transitional,r=e&&e.silentJSONParsing,n=e&&e.forcedJSONParsing,o=!r&&"json"===this.responseType;if(o||n&&pe.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(o){if("SyntaxError"===t.name)throw be(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};Ce.headers={common:{Accept:"application/json, text/plain, */*"}},pe.forEach(["delete","get","head"],(function(t){Ce.headers[t]={}})),pe.forEach(["post","put","patch"],(function(t){Ce.headers[t]=pe.merge(Ee)}));var xe=Ce,Te=function(t,e,r){var n=this||xe;return pe.forEach(r,(function(r){t=r.call(n,t,e)})),t},Ae=function(t){return!(!t||!t.__CANCEL__)};function Pe(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var Ue,Fe=function(t){return Pe(t),t.headers=t.headers||{},t.data=Te.call(t,t.data,t.headers,t.transformRequest),t.headers=pe.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),pe.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||xe.adapter)(t).then((function(e){return Pe(t),e.data=Te.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return Ae(e)||(Pe(t),e&&e.response&&(e.response.data=Te.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},Re=function(t,e){e=e||{};var r={},n=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],i=["validateStatus"];function s(t,e){return pe.isPlainObject(t)&&pe.isPlainObject(e)?pe.merge(t,e):pe.isPlainObject(e)?pe.merge({},e):pe.isArray(e)?e.slice():e}function u(n){pe.isUndefined(e[n])?pe.isUndefined(t[n])||(r[n]=s(void 0,t[n])):r[n]=s(t[n],e[n])}pe.forEach(n,(function(t){pe.isUndefined(e[t])||(r[t]=s(void 0,e[t]))})),pe.forEach(o,u),pe.forEach(a,(function(n){pe.isUndefined(e[n])?pe.isUndefined(t[n])||(r[n]=s(void 0,t[n])):r[n]=s(void 0,e[n])})),pe.forEach(i,(function(n){n in e?r[n]=s(t[n],e[n]):n in t&&(r[n]=s(void 0,t[n]))}));var c=n.concat(o).concat(a).concat(i),f=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===c.indexOf(t)}));return pe.forEach(f,u),r},Ie="Promise based HTTP client for the browser and node.js",Le={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},De={type:"git",url:"https://github.com/axios/axios.git"},Ne=["xhr","http","ajax","promise","node"],Be={url:"https://github.com/axios/axios/issues"},Me={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},$e={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},ze="dist/axios.min.js",Ge={"follow-redirects":"^1.14.0"},Ke=[{path:"./dist/axios.min.js",threshold:"5kB"}],We={name:"axios",version:"0.21.2",description:Ie,main:"index.js",scripts:Le,repository:De,keywords:Ne,author:"Matt Zabriskie",license:"MIT",bugs:Be,homepage:"https://axios-http.com",devDependencies:Me,browser:$e,jsdelivr:"dist/axios.min.js",unpkg:ze,typings:"./index.d.ts",dependencies:Ge,bundlesize:Ke},Ve=(Ue=Object.freeze({__proto__:null,name:"axios",version:"0.21.2",description:Ie,main:"index.js",scripts:Le,repository:De,keywords:Ne,author:"Matt Zabriskie",license:"MIT",bugs:Be,homepage:"https://axios-http.com",devDependencies:Me,browser:$e,jsdelivr:"dist/axios.min.js",unpkg:ze,typings:"./index.d.ts",dependencies:Ge,bundlesize:Ke,default:We}))&&Ue.default||Ue,Xe={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){Xe[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var He={},Je=Ve.version.split(".");function Ye(t,e){for(var r=e?e.split("."):Je,n=t.split("."),o=0;o<3;o++){if(r[o]>n[o])return!0;if(r[o]<n[o])return!1}return!1}Xe.transitional=function(t,e,r){var n=e&&Ye(e);function o(t,e){return"[Axios v"+Ve.version+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,a,i){if(!1===t)throw new Error(o(a," has been removed in "+e));return n&&!He[a]&&(He[a]=!0,console.warn(o(a," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,a,i)}};var Qe={isOlderVersion:Ye,assertOptions:function(t,e,r){if("object"!=typeof t)throw new TypeError("options must be an object");for(var n=Object.keys(t),o=n.length;o-- >0;){var a=n[o],i=e[a];if(i){var s=t[a],u=void 0===s||i(s,a,t);if(!0!==u)throw new TypeError("option "+a+" must be "+u)}else if(!0!==r)throw Error("Unknown option "+a)}},validators:Xe},Ze=Qe.validators;function tr(t){this.defaults=t,this.interceptors={request:new ge,response:new ge}}tr.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=Re(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&Qe.assertOptions(e,{silentJSONParsing:Ze.transitional(Ze.boolean,"1.0.0"),forcedJSONParsing:Ze.transitional(Ze.boolean,"1.0.0"),clarifyTimeoutError:Ze.transitional(Ze.boolean,"1.0.0")},!1);var r=[],n=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(n=n&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,a=[];if(this.interceptors.response.forEach((function(t){a.push(t.fulfilled,t.rejected)})),!n){var i=[Fe,void 0];for(Array.prototype.unshift.apply(i,r),i.concat(a),o=Promise.resolve(t);i.length;)o=o.then(i.shift(),i.shift());return o}for(var s=t;r.length;){var u=r.shift(),c=r.shift();try{s=u(s)}catch(t){c(t);break}}try{o=Fe(s)}catch(t){return Promise.reject(t)}for(;a.length;)o=o.then(a.shift(),a.shift());return o},tr.prototype.getUri=function(t){return t=Re(this.defaults,t),ve(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},pe.forEach(["delete","get","head","options"],(function(t){tr.prototype[t]=function(e,r){return this.request(Re(r||{},{method:t,url:e,data:(r||{}).data}))}})),pe.forEach(["post","put","patch"],(function(t){tr.prototype[t]=function(e,r,n){return this.request(Re(n||{},{method:t,url:e,data:r}))}}));var er=tr;function rr(t){this.message=t}rr.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},rr.prototype.__CANCEL__=!0;var nr=rr;function or(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;t((function(t){r.reason||(r.reason=new nr(t),e(r.reason))}))}or.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},or.source=function(){var t;return{token:new or((function(e){t=e})),cancel:t}};var ar=or;function ir(t){var e=new er(t),r=ae(er.prototype.request,e);return pe.extend(r,er.prototype,e),pe.extend(r,e),r}var sr=ir(xe);sr.Axios=er,sr.create=function(t){return ir(Re(sr.defaults,t))},sr.Cancel=nr,sr.CancelToken=ar,sr.isCancel=Ae,sr.all=function(t){return Promise.all(t)},sr.spread=function(t){return function(e){return t.apply(null,e)}},sr.isAxiosError=function(t){return"object"==typeof t&&!0===t.isAxiosError};var ur=sr,cr=sr;ur.default=cr;var fr=ur,lr=/[^\x20-\x7E]/,hr=/[\x2E\u3002\uFF0E\uFF61]/g,pr={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},dr=Math.floor,vr=String.fromCharCode;
/*! https://mths.be/punycode v1.4.1 by @mathias */function yr(t){throw new RangeError(pr[t])}function gr(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function mr(t,e,r){var n=0;for(t=r?dr(t/700):t>>1,t+=dr(t/e);t>455;n+=36)t=dr(t/35);return dr(n+36*t/(t+38))}function br(t){return function(t,e){var r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]);var o=function(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}((t=t.replace(hr,".")).split("."),e).join(".");return n+o}(t,(function(t){return lr.test(t)?"xn--"+function(t){var e,r,n,o,a,i,s,u,c,f,l,h,p,d,v,y=[];for(h=(t=function(t){for(var e,r,n=[],o=0,a=t.length;o<a;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<a?56320==(64512&(r=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--):n.push(e);return n}(t)).length,e=128,r=0,a=72,i=0;i<h;++i)(l=t[i])<128&&y.push(vr(l));for(n=o=y.length,o&&y.push("-");n<h;){for(s=2147483647,i=0;i<h;++i)(l=t[i])>=e&&l<s&&(s=l);for(s-e>dr((2147483647-r)/(p=n+1))&&yr("overflow"),r+=(s-e)*p,e=s,i=0;i<h;++i)if((l=t[i])<e&&++r>2147483647&&yr("overflow"),l==e){for(u=r,c=36;!(u<(f=c<=a?1:c>=a+26?26:c-a));c+=36)v=u-f,d=36-f,y.push(vr(gr(f+v%d,0))),u=dr(v/d);y.push(vr(gr(u,0))),a=mr(r,p,n==o),r=0,++n}++r,++e}return y.join("")}(t):t}))}function _r(t){return null===t}function wr(t){return"string"==typeof t}function jr(t){return"object"==typeof t&&null!==t}function kr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Or=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function Er(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function Sr(t,e,r,n){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?qr(Cr(t),(function(n){var o=encodeURIComponent(Er(n))+r;return Or(t[n])?qr(t[n],(function(t){return o+encodeURIComponent(Er(t))})).join(e):o+encodeURIComponent(Er(t[n]))})).join(e):n?encodeURIComponent(Er(n))+r+encodeURIComponent(Er(t)):""}function qr(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var Cr=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e};function xr(t,e,r,n){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var i=1e3;n&&"number"==typeof n.maxKeys&&(i=n.maxKeys);var s=t.length;i>0&&s>i&&(s=i);for(var u=0;u<s;++u){var c,f,l,h,p=t[u].replace(a,"%20"),d=p.indexOf(r);d>=0?(c=p.substr(0,d),f=p.substr(d+1)):(c=p,f=""),l=decodeURIComponent(c),h=decodeURIComponent(f),kr(o,l)?Or(o[l])?o[l].push(h):o[l]=[o[l],h]:o[l]=h}return o}var Tr={encode:Sr,stringify:Sr,decode:xr,parse:xr},Ar={parse:Kr,resolve:function(t,e){return Kr(t,!1,!0).resolve(e)},resolveObject:function(t,e){return t?Kr(t,!1,!0).resolveObject(e):e},format:function(t){wr(t)&&(t=Wr({},t));return Vr(t)},Url:Pr};function Pr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Ur=/^([a-z0-9.+-]+:)/i,Fr=/:[0-9]*$/,Rr=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ir=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Lr=["'"].concat(Ir),Dr=["%","/","?",";","#"].concat(Lr),Nr=["/","?","#"],Br=/^[+a-z0-9A-Z_-]{0,63}$/,Mr=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,$r={javascript:!0,"javascript:":!0},zr={javascript:!0,"javascript:":!0},Gr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Kr(t,e,r){if(t&&jr(t)&&t instanceof Pr)return t;var n=new Pr;return n.parse(t,e,r),n}function Wr(t,e,r,n){if(!wr(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",i=e.split(a);i[0]=i[0].replace(/\\/g,"/");var s=e=i.join(a);if(s=s.trim(),!n&&1===e.split("#").length){var u=Rr.exec(s);if(u)return t.path=s,t.href=s,t.pathname=u[1],u[2]?(t.search=u[2],t.query=r?xr(t.search.substr(1)):t.search.substr(1)):r&&(t.search="",t.query={}),t}var c,f,l,h,p=Ur.exec(s);if(p){var d=(p=p[0]).toLowerCase();t.protocol=d,s=s.substr(p.length)}if(n||p||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var v="//"===s.substr(0,2);!v||p&&zr[p]||(s=s.substr(2),t.slashes=!0)}if(!zr[p]&&(v||p&&!Gr[p])){var y,g,m=-1;for(c=0;c<Nr.length;c++)-1!==(f=s.indexOf(Nr[c]))&&(-1===m||f<m)&&(m=f);for(-1!==(g=-1===m?s.lastIndexOf("@"):s.lastIndexOf("@",m))&&(y=s.slice(0,g),s=s.slice(g+1),t.auth=decodeURIComponent(y)),m=-1,c=0;c<Dr.length;c++)-1!==(f=s.indexOf(Dr[c]))&&(-1===m||f<m)&&(m=f);-1===m&&(m=s.length),t.host=s.slice(0,m),s=s.slice(m),Xr(t),t.hostname=t.hostname||"";var b="["===t.hostname[0]&&"]"===t.hostname[t.hostname.length-1];if(!b){var _=t.hostname.split(/\./);for(c=0,l=_.length;c<l;c++){var w=_[c];if(w&&!w.match(Br)){for(var j="",k=0,O=w.length;k<O;k++)w.charCodeAt(k)>127?j+="x":j+=w[k];if(!j.match(Br)){var E=_.slice(0,c),S=_.slice(c+1),q=w.match(Mr);q&&(E.push(q[1]),S.unshift(q[2])),S.length&&(s="/"+S.join(".")+s),t.hostname=E.join(".");break}}}}t.hostname.length>255?t.hostname="":t.hostname=t.hostname.toLowerCase(),b||(t.hostname=br(t.hostname)),h=t.port?":"+t.port:"";var C=t.hostname||"";t.host=C+h,t.href+=t.host,b&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!$r[d])for(c=0,l=Lr.length;c<l;c++){var x=Lr[c];if(-1!==s.indexOf(x)){var T=encodeURIComponent(x);T===x&&(T=escape(x)),s=s.split(x).join(T)}}var A=s.indexOf("#");-1!==A&&(t.hash=s.substr(A),s=s.slice(0,A));var P=s.indexOf("?");if(-1!==P?(t.search=s.substr(P),t.query=s.substr(P+1),r&&(t.query=xr(t.query)),s=s.slice(0,P)):r&&(t.search="",t.query={}),s&&(t.pathname=s),Gr[d]&&t.hostname&&!t.pathname&&(t.pathname="/"),t.pathname||t.search){h=t.pathname||"";var U=t.search||"";t.path=h+U}return t.href=Vr(t),t}function Vr(t){var e=t.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var r=t.protocol||"",n=t.pathname||"",o=t.hash||"",a=!1,i="";t.host?a=e+t.host:t.hostname&&(a=e+(-1===t.hostname.indexOf(":")?t.hostname:"["+this.hostname+"]"),t.port&&(a+=":"+t.port)),t.query&&jr(t.query)&&Object.keys(t.query).length&&(i=Sr(t.query));var s=t.search||i&&"?"+i||"";return r&&":"!==r.substr(-1)&&(r+=":"),t.slashes||(!r||Gr[r])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),o&&"#"!==o.charAt(0)&&(o="#"+o),s&&"?"!==s.charAt(0)&&(s="?"+s),r+a+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+o}function Xr(t){var e=t.host,r=Fr.exec(e);r&&(":"!==(r=r[0])&&(t.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(t.hostname=e)}Pr.prototype.parse=function(t,e,r){return Wr(this,t,e,r)},Pr.prototype.format=function(){return Vr(this)},Pr.prototype.resolve=function(t){return this.resolveObject(Kr(t,!1,!0)).format()},Pr.prototype.resolveObject=function(t){if(wr(t)){var e=new Pr;e.parse(t,!1,!0),t=e}for(var r,n=new Pr,o=Object.keys(this),a=0;a<o.length;a++){var i=o[a];n[i]=this[i]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),u=0;u<s.length;u++){var c=s[u];"protocol"!==c&&(n[c]=t[c])}return Gr[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!Gr[t.protocol]){for(var f=Object.keys(t),l=0;l<f.length;l++){var h=f[l];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||zr[t.protocol])n.pathname=t.pathname;else{for(r=(t.pathname||"").split("/");r.length&&!(t.host=r.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),n.pathname=r.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var p=n.pathname||"",d=n.search||"";n.path=p+d}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v,y=n.pathname&&"/"===n.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),m=g||y||n.host&&t.pathname,b=m,_=n.pathname&&n.pathname.split("/")||[],w=n.protocol&&!Gr[n.protocol];if(r=t.pathname&&t.pathname.split("/")||[],w&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===r[0]?r[0]=t.host:r.unshift(t.host)),t.host=null),m=m&&(""===r[0]||""===_[0])),g)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,_=r;else if(r.length)_||(_=[]),_.pop(),_=_.concat(r),n.search=t.search,n.query=t.query;else if(null!=t.search)return w&&(n.hostname=n.host=_.shift(),(v=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=v.shift(),n.host=n.hostname=v.shift())),n.search=t.search,n.query=t.query,_r(n.pathname)&&_r(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var j=_.slice(-1)[0],k=(n.host||t.host||_.length>1)&&("."===j||".."===j)||""===j,O=0,E=_.length;E>=0;E--)"."===(j=_[E])?_.splice(E,1):".."===j?(_.splice(E,1),O++):O&&(_.splice(E,1),O--);if(!m&&!b)for(;O--;O)_.unshift("..");!m||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),k&&"/"!==_.join("/").substr(-1)&&_.push("");var S=""===_[0]||_[0]&&"/"===_[0].charAt(0);return w&&(n.hostname=n.host=S?"":_.length?_.shift():"",(v=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=v.shift(),n.host=n.hostname=v.shift())),(m=m||n.host&&_.length)&&!S&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),_r(n.pathname)&&_r(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},Pr.prototype.parseHost=function(){return Xr(this)};var Hr=g((function(t,e){var r=/^\[object .+?Constructor\]$/,n=/^(?:0|[1-9]\d*)$/,o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var a="object"==typeof y&&y&&y.Object===Object&&y,i="object"==typeof self&&self&&self.Object===Object&&self,s=a||i||Function("return this")(),u=e&&!e.nodeType&&e,c=u&&t&&!t.nodeType&&t,f=c&&c.exports===u,l=f&&a.process,h=function(){try{var t=c&&c.require&&c.require("util").types;return t||l&&l.binding&&l.binding("util")}catch(t){}}(),p=h&&h.isTypedArray;function d(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var v,g,m=Array.prototype,b=Function.prototype,_=Object.prototype,w=s["__core-js_shared__"],j=b.toString,k=_.hasOwnProperty,O=function(){var t=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),E=_.toString,S=j.call(Object),q=RegExp("^"+j.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=f?s.Buffer:void 0,x=s.Symbol,T=s.Uint8Array,A=C?C.allocUnsafe:void 0,P=(v=Object.getPrototypeOf,g=Object,function(t){return v(g(t))}),U=Object.create,F=_.propertyIsEnumerable,R=m.splice,I=x?x.toStringTag:void 0,L=function(){try{var t=ct(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),D=C?C.isBuffer:void 0,N=Math.max,B=Date.now,M=ct(s,"Map"),$=ct(Object,"create"),z=function(){function t(){}return function(e){if(!wt(e))return{};if(U)return U(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function G(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function K(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function W(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function V(t){var e=this.__data__=new K(t);this.size=e.size}function X(t,e){var r=yt(t),n=!r&&vt(t),o=!r&&!n&&mt(t),a=!r&&!n&&!o&&kt(t),i=r||n||o||a,s=i?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=s.length;for(var c in t)!e&&!k.call(t,c)||i&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ft(c,u))||s.push(c);return s}function H(t,e,r){(void 0===r||dt(t[e],r))&&(void 0!==r||e in t)||Q(t,e,r)}function J(t,e,r){var n=t[e];k.call(t,e)&&dt(n,r)&&(void 0!==r||e in t)||Q(t,e,r)}function Y(t,e){for(var r=t.length;r--;)if(dt(t[r][0],e))return r;return-1}function Q(t,e,r){"__proto__"==e&&L?L(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}G.prototype.clear=function(){this.__data__=$?$(null):{},this.size=0},G.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},G.prototype.get=function(t){var e=this.__data__;if($){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return k.call(e,t)?e[t]:void 0},G.prototype.has=function(t){var e=this.__data__;return $?void 0!==e[t]:k.call(e,t)},G.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=$&&void 0===e?"__lodash_hash_undefined__":e,this},K.prototype.clear=function(){this.__data__=[],this.size=0},K.prototype.delete=function(t){var e=this.__data__,r=Y(e,t);return!(r<0)&&(r==e.length-1?e.pop():R.call(e,r,1),--this.size,!0)},K.prototype.get=function(t){var e=this.__data__,r=Y(e,t);return r<0?void 0:e[r][1]},K.prototype.has=function(t){return Y(this.__data__,t)>-1},K.prototype.set=function(t,e){var r=this.__data__,n=Y(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},W.prototype.clear=function(){this.size=0,this.__data__={hash:new G,map:new(M||K),string:new G}},W.prototype.delete=function(t){var e=ut(this,t).delete(t);return this.size-=e?1:0,e},W.prototype.get=function(t){return ut(this,t).get(t)},W.prototype.has=function(t){return ut(this,t).has(t)},W.prototype.set=function(t,e){var r=ut(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},V.prototype.clear=function(){this.__data__=new K,this.size=0},V.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},V.prototype.get=function(t){return this.__data__.get(t)},V.prototype.has=function(t){return this.__data__.has(t)},V.prototype.set=function(t,e){var r=this.__data__;if(r instanceof K){var n=r.__data__;if(!M||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new W(n)}return r.set(t,e),this.size=r.size,this};var Z,tt=function(t,e,r){for(var n=-1,o=Object(t),a=r(t),i=a.length;i--;){var s=a[Z?i:++n];if(!1===e(o[s],s,o))break}return t};function et(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":I&&I in Object(t)?function(t){var e=k.call(t,I),r=t[I];try{t[I]=void 0;var n=!0}catch(t){}var o=E.call(t);n&&(e?t[I]=r:delete t[I]);return o}(t):function(t){return E.call(t)}(t)}function rt(t){return jt(t)&&"[object Arguments]"==et(t)}function nt(t){return!(!wt(t)||function(t){return!!O&&O in t}(t))&&(bt(t)?q:r).test(function(t){if(null!=t){try{return j.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function ot(t){if(!wt(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=lt(t),r=[];for(var n in t)("constructor"!=n||!e&&k.call(t,n))&&r.push(n);return r}function at(t,e,r,n,o){t!==e&&tt(e,(function(a,i){if(o||(o=new V),wt(a))!function(t,e,r,n,o,a,i){var s=ht(t,r),u=ht(e,r),c=i.get(u);if(c)return void H(t,r,c);var f=a?a(s,u,r+"",t,e,i):void 0,l=void 0===f;if(l){var h=yt(u),p=!h&&mt(u),d=!h&&!p&&kt(u);f=u,h||p||d?yt(s)?f=s:jt(g=s)&&gt(g)?f=function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(s):p?(l=!1,f=function(t,e){if(e)return t.slice();var r=t.length,n=A?A(r):new t.constructor(r);return t.copy(n),n}(u,!0)):d?(l=!1,v=u,y=!0?function(t){var e=new t.constructor(t.byteLength);return new T(e).set(new T(t)),e}(v.buffer):v.buffer,f=new v.constructor(y,v.byteOffset,v.length)):f=[]:function(t){if(!jt(t)||"[object Object]"!=et(t))return!1;var e=P(t);if(null===e)return!0;var r=k.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&j.call(r)==S}(u)||vt(u)?(f=s,vt(s)?f=function(t){return function(t,e,r,n){var o=!r;r||(r={});var a=-1,i=e.length;for(;++a<i;){var s=e[a],u=n?n(r[s],t[s],s,r,t):void 0;void 0===u&&(u=t[s]),o?Q(r,s,u):J(r,s,u)}return r}(t,Et(t))}(s):wt(s)&&!bt(s)||(f=function(t){return"function"!=typeof t.constructor||lt(t)?{}:z(P(t))}(u))):l=!1}var v,y;var g;l&&(i.set(u,f),o(f,u,n,a,i),i.delete(u));H(t,r,f)}(t,e,i,r,at,n,o);else{var s=n?n(ht(t,i),a,i+"",t,e,o):void 0;void 0===s&&(s=a),H(t,i,s)}}),Et)}function it(t,e){return pt(function(t,e,r){return e=N(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,a=N(n.length-e,0),i=Array(a);++o<a;)i[o]=n[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=n[o];return s[e]=r(i),d(t,this,s)}}(t,e,Ct),t+"")}function st(t,e,r,n,o,a){return wt(t)&&wt(e)&&(a.set(e,t),at(t,e,void 0,st,a),a.delete(e)),t}function ut(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function ct(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return nt(r)?r:void 0}function ft(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}function lt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||_)}function ht(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var pt=function(t){var e=0,r=0;return function(){var n=B(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(L?function(t,e){return L(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:Ct);function dt(t,e){return t===e||t!=t&&e!=e}var vt=rt(function(){return arguments}())?rt:function(t){return jt(t)&&k.call(t,"callee")&&!F.call(t,"callee")},yt=Array.isArray;function gt(t){return null!=t&&_t(t.length)&&!bt(t)}var mt=D||function(){return!1};function bt(t){if(!wt(t))return!1;var e=et(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function _t(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function wt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function jt(t){return null!=t&&"object"==typeof t}var kt=p?function(t){return function(e){return t(e)}}(p):function(t){return jt(t)&&_t(t.length)&&!!o[et(t)]};var Ot=it((function(t){return t.push(void 0,st),d(qt,void 0,t)}));function Et(t){return gt(t)?X(t,!0):ot(t)}var St,qt=(St=function(t,e,r,n){at(t,e,r,n)},it((function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,a=n>2?e[2]:void 0;for(o=St.length>3&&"function"==typeof o?(n--,o):void 0,a&&function(t,e,r){if(!wt(r))return!1;var n=typeof e;return!!("number"==n?gt(r)&&ft(e,r.length):"string"==n&&e in r)&&dt(r[e],t)}(e[0],e[1],a)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var i=e[r];i&&St(t,i,r,o)}return t})));function Ct(t){return t}t.exports=Ot}));function Jr(t){this.message=t}Jr.prototype=new Error,Jr.prototype.name="InvalidCharacterError";var Yr="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new Jr("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,o=0,a=0,i="";n=e.charAt(a++);~n&&(r=o%4?64*r+n:n,o++%4)?i+=String.fromCharCode(255&r>>(-2*o&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return i};var Qr=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(Yr(t).replace(/(.)/g,(function(t,e){var r=e.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(e)}catch(t){return Yr(e)}};function Zr(t){this.message=t}Zr.prototype=new Error,Zr.prototype.name="InvalidTokenError";var tn=function(t,e){if("string"!=typeof t)throw new Zr("Invalid token specified");var r=!0===(e=e||{}).header?0:1;try{return JSON.parse(Qr(t.split(".")[r]))}catch(t){throw new Zr("Invalid token specified: "+t.message)}};tn.InvalidTokenError=Zr;var en=Object.getOwnPropertySymbols,rn=Object.prototype.hasOwnProperty,nn=Object.prototype.propertyIsEnumerable;
/*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  */function on(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var an=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,n,o=on(t),a=1;a<arguments.length;a++){for(var i in r=Object(arguments[a]))rn.call(r,i)&&(o[i]=r[i]);if(en){n=en(r);for(var s=0;s<n.length;s++)nn.call(r,n[s])&&(o[n[s]]=r[n[s]])}}return o};new RegExp("%[a-f0-9]{2}","gi"),new RegExp("(%[a-f0-9]{2})+","gi");function sn(t,e){return e.encode?e.strict?encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):encodeURIComponent(t):t}var un,cn,fn=function(t,e){!1===(e=an({encode:!0,strict:!0,arrayFormat:"none"},e)).sort&&(e.sort=function(){});var r=function(t){switch(t.arrayFormat){case"index":return function(e,r,n){return null===r?[sn(e,t),"[",n,"]"].join(""):[sn(e,t),"[",sn(n,t),"]=",sn(r,t)].join("")};case"bracket":return function(e,r){return null===r?sn(e,t):[sn(e,t),"[]=",sn(r,t)].join("")};default:return function(e,r){return null===r?sn(e,t):[sn(e,t),"=",sn(r,t)].join("")}}}(e);return t?Object.keys(t).sort(e.sort).map((function(n){var o=t[n];if(void 0===o)return"";if(null===o)return sn(n,e);if(Array.isArray(o)){var a=[];return o.slice().forEach((function(t){void 0!==t&&a.push(r(n,t,a.length))})),a.join("&")}return sn(n,e)+"="+sn(o,e)})).filter((function(t){return t.length>0})).join("&"):""},ln=Array.isArray||function(t){return"Array"==q(t)},hn=function(t,e,r){var n=U(e);n in t?G.f(t,n,E(0,r)):t[n]=r},pn=!!Object.getOwnPropertySymbols&&!_((function(){return!String(Symbol())})),dn=pn&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,vn=et("wks"),yn=b.Symbol,gn=dn?yn:yn&&yn.withoutSetter||ot,mn=function(t){return R(vn,t)||(pn&&R(yn,t)?vn[t]=yn[t]:vn[t]=gn("Symbol."+t)),vn[t]},bn=mn("species"),_n=function(t,e){var r;return ln(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!ln(r.prototype)?P(r)&&null===(r=r[bn])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)},wn=mt("navigator","userAgent")||"",jn=b.process,kn=jn&&jn.versions,On=kn&&kn.v8;On?cn=(un=On.split("."))[0]+un[1]:wn&&(!(un=wn.match(/Edge\/(\d+)/))||un[1]>=74)&&(un=wn.match(/Chrome\/(\d+)/))&&(cn=un[1]);var En=cn&&+cn,Sn=mn("species"),qn=function(t){return En>=51||!_((function(){var e=[];return(e.constructor={})[Sn]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Cn=mn("isConcatSpreadable"),xn=En>=51||!_((function(){var t=[];return t[Cn]=!1,t.concat()[0]!==t})),Tn=qn("concat"),An=function(t){if(!P(t))return!1;var e=t[Cn];return void 0!==e?!!e:ln(t)};Gt({target:"Array",proto:!0,forced:!xn||!Tn},{concat:function(t){var e,r,n,o,a,i=Wt(this),s=_n(i,0),u=0;for(e=-1,n=arguments.length;e<n;e++)if(a=-1===e?i:arguments[e],An(a)){if(u+(o=kt(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<o;r++,u++)r in a&&hn(s,u,a[r])}else{if(u>=9007199254740991)throw TypeError("Maximum allowed index exceeded");hn(s,u++,a)}return s.length=u,s}});var Pn=function(){function t(e,r){n(this,t),this._client=r||e.client,this._options=e||{}}return a(t,[{key:"_request",value:function(t){return t=Object.assign({url:this.baseUrl+t.path},t),this._client._request(t)}},{key:"baseUrl",get:function(){var t=this._options.settingsBaseUrlKey;if(this._options.hasOwnProperty("baseUrl"))return this._options.baseUrl?oe(this._options.baseUrl,{https:!0}):void 0;var e=t&&this._client._settings&&this._client._settings[t],r=this._options.defaultBaseUrl,n=this._client.baseUrl,o=e||r||n;return"https://"!==o?oe(o,{https:!0}):""},set:function(t){this._options.baseUrl=t}}]),t}(),Un=function(t){c(r,t);var e=v(r);function r(t,o){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n(this,r),a=e.call(this,t,o);var s=i.path,u=void 0===s?"/api/batch":s;return a.batchPath=u,a}return a(r,[{key:"_batch",value:function(t,e,r,n){var o={entity:t,action:e,query:r,actionParameters:n};return this._request({path:this.batchPath,method:"POST",data:o})}},{key:"operation",value:function(t){return this._request({path:"".concat(this.batchPath,"/").concat(t)})}}]),r}(Pn);var Fn,Rn,In=function(){var t=this,e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t._batch.apply(t,["alarm"].concat(r))};return{raw:e,remove:function(t){return e("delete",{ids:t})},update:function(t,r){return e("update",{ids:t},r)}}},Ln={path:"/batch"},Dn=function(t){c(r,t);var e=v(r);function r(t,o){var a;return n(this,r),(a=e.call(this,t,o,Ln)).batch=In.bind(p(a))(),a}return a(r,[{key:"create",value:function(t){return this._request({method:"POST",path:"/alarm/alarms",data:t})}},{key:"get",value:function(t){return this._request({path:"/alarm/alarms/".concat(t)})}},{key:"search",value:function(t){return this._request({path:"/alarm/alarms",params:t})}},{key:"timeline",value:function(t,e,r){return this._request({path:"/alarm/alarms",params:{source:t,from:e,to:r},headers:{Accept:"application/vnd.waylay.alarms.timeseries+json"}})}},{key:"update",value:function(t,e){return this._request({method:"PUT",path:"/alarm/alarms/".concat(t),data:e})}},{key:"remove",value:function(t){return this._request({method:"DELETE",path:"/alarm/alarms/".concat(t)})}},{key:"removeAll",value:function(t){return this._request({method:"DELETE",path:"/alarm/alarms",params:t})}},{key:"_request",value:function(t){return t=Object.assign({url:this.baseUrl+t.path},t),this._client._request(t)}}]),r}(Un),Nn=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"list",value:function(){return this._request({path:"/models"})}},{key:"get",value:function(t){return this._request({path:"/models/".concat(t)})}},{key:"exampleInput",value:function(t){return this._request({path:"/models/".concat(t,"/examples")})}},{key:"predict",value:function(t,e){return this._request({path:"/models/".concat(t,"/predict"),method:"POST",data:e})}},{key:"regress",value:function(t,e){return this._request({path:"/models/".concat(t,"/regress"),method:"POST",data:e})}},{key:"classify",value:function(t,e){return this._request({path:"/models/".concat(t,"/classify"),method:"POST",data:e})}},{key:"remove",value:function(t){return this._request({method:"DELETE",path:"/models/".concat(t)})}}]),r}(Pn),Bn=[].join,Mn=x!=Object,$n=(Fn=",",!!(Rn=[]["join"])&&_((function(){Rn.call(null,Fn||function(){throw 1},1)})));Gt({target:"Array",proto:!0,forced:Mn||!$n},{join:function(t){return Bn.call(A(this),void 0===t?",":t)}});var zn=function(e){c(o,e);var r=v(o);function o(){return n(this,o),r.apply(this,arguments)}return a(o,[{key:"getSeries",value:function(t,e){return this._request({path:"/resources/".concat(t,"/series"),params:e})}},{key:"postSeries",value:function(e,r,n){var o="object"===t(e);o&&(n=r,r=e);var a={path:o?"/messages":"/resources/".concat(e),method:"POST",data:r,params:n};return this._request(a)}},{key:"deleteSeries",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request({method:"DELETE",path:"/resources/".concat(t),params:u(u({},r),{},{metrics:Array.isArray(e)?e.join(","):e})})}},{key:"getMetricSeries",value:function(t,e,r){var n=Object.assign({},{grouping:"auto",aggregate:"mean"},r);return"none"===n.aggregate&&Object.assign(n,{aggregate:void 0,grouping:void 0}),this._request({path:"/resources/".concat(t,"/series/").concat(e),params:n})}},{key:"getLastDatapointsForMetric",value:function(t,e,r){var n=Object.assign({},{limit:2e3},r);return this._request({path:"/resources/".concat(t,"/series/").concat(e,"/last"),params:n})}},{key:"getDatapointsForMetricRaw",value:function(t,e,r){var n=Object.assign({},{limit:2e3},r);return this._request({path:"/resources/".concat(t,"/series/").concat(e,"/raw"),params:n,headers:{Accept:"application/hal+json"}})}},{key:"queryTimeSeries",value:function(t){return this._request({path:"/series/query",method:"POST",data:t})}},{key:"queryMessages",value:function(t){return this._request({path:"/messages/query",method:"POST",data:t})}},{key:"getLastMetric",value:function(t,e){return this._request({path:"/resources/".concat(t,"/series/").concat(e,"/latest")})}},{key:"getLatestDocument",value:function(t){return this._request({path:"/resources/".concat(t,"/current")})}},{key:"getLatestMessages",value:function(t,e){return e?this.queryMessages(u(u({},e),{},{resources:[t]})).then((function(t){return 0===t.results.length?[]:t.results[0].messages})):this._request({path:"/resources/".concat(t,"/messages")})}},{key:"remove",value:function(t,e){return this._request({method:"DELETE",path:"/resources/".concat(t),params:e})}}]),o}(Pn);zn.prototype.getMessages=zn.prototype.getSeries,zn.prototype.postMessage=zn.prototype.postSeries;var Gn=zn,Kn=O.f,Wn=function(t){return function(e){for(var r,n=A(e),o=Kt(n),a=o.length,i=0,s=[];a>i;)r=o[i++],w&&!Kn.call(n,r)||s.push(t?[r,n[r]]:n[r]);return s}},Vn={entries:Wn(!0),values:Wn(!1)}.entries;Gt({target:"Object",stat:!0},{entries:function(t){return Vn(t)}});var Xn=Object.defineProperty,Hn={},Jn=function(t){throw t},Yn=function(t,e){if(R(Hn,t))return Hn[t];e||(e={});var r=[][t],n=!!R(e,"ACCESSORS")&&e.ACCESSORS,o=R(e,0)?e[0]:Jn,a=R(e,1)?e[1]:void 0;return Hn[t]=!!r&&!_((function(){if(n&&!w)return!0;var t={length:-1};n?Xn(t,1,{enumerable:!0,get:Jn}):t[1]=1,r.call(t,o,a)}))},Qn=qn("slice"),Zn=Yn("slice",{ACCESSORS:!0,0:0,1:2}),to=mn("species"),eo=[].slice,ro=Math.max;Gt({target:"Array",proto:!0,forced:!Qn||!Zn},{slice:function(t,e){var r,n,o,a=A(this),i=kt(a.length),s=St(t,i),u=St(void 0===e?i:e,i);if(ln(a)&&("function"!=typeof(r=a.constructor)||r!==Array&&!ln(r.prototype)?P(r)&&null===(r=r[to])&&(r=void 0):r=void 0,r===Array||void 0===r))return eo.call(a,s,u);for(n=new(void 0===r?Array:r)(ro(u-s,0)),o=0;s<u;s++,o++)s in a&&hn(n,o,a[s]);return n.length=o,n}});var no=/^\[object .+?Constructor\]$/,oo=/^(?:0|[1-9]\d*)$/,ao="object"==typeof y&&y&&y.Object===Object&&y,io="object"==typeof self&&self&&self.Object===Object&&self,so=ao||io||Function("return this")();function uo(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function co(t,e){return!!(t?t.length:0)&&function(t,e,r){if(e!=e)return function(t,e,r,n){var o=t.length,a=r+(n?1:-1);for(;n?a--:++a<o;)if(e(t[a],a,t))return a;return-1}(t,po,r);var n=r-1,o=t.length;for(;++n<o;)if(t[n]===e)return n;return-1}(t,e,0)>-1}function fo(t,e,r){for(var n=-1,o=t?t.length:0;++n<o;)if(r(e,t[n]))return!0;return!1}function lo(t,e){for(var r=-1,n=t?t.length:0,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}function ho(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function po(t){return t!=t}function vo(t,e){return t.has(e)}function yo(t,e){return function(r){return t(e(r))}}var go=Array.prototype,mo=Function.prototype,bo=Object.prototype,_o=so["__core-js_shared__"],wo=function(){var t=/[^.]+$/.exec(_o&&_o.keys&&_o.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),jo=mo.toString,ko=bo.hasOwnProperty,Oo=bo.toString,Eo=RegExp("^"+jo.call(ko).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),So=so.Symbol,qo=yo(Object.getPrototypeOf,Object),Co=bo.propertyIsEnumerable,xo=go.splice,To=So?So.isConcatSpreadable:void 0,Ao=Object.getOwnPropertySymbols,Po=Math.max,Uo=Ko(so,"Map"),Fo=Ko(Object,"create");function Ro(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Io(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Lo(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Do(t){var e=-1,r=t?t.length:0;for(this.__data__=new Lo;++e<r;)this.add(t[e])}function No(t,e){var r=ta(t)||Yo(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var a in t)!e&&!ko.call(t,a)||o&&("length"==a||Ho(a,n))||r.push(a);return r}function Bo(t,e){for(var r,n,o=t.length;o--;)if((r=t[o][0])===(n=e)||r!=r&&n!=n)return o;return-1}function Mo(t){return!(!na(t)||(e=t,wo&&wo in e))&&(ra(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?Eo:no).test(function(t){if(null!=t){try{return jo.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function $o(t){if(!na(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e,r,n,o=(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||bo,e===n),a=[];for(var i in t)("constructor"!=i||!o&&ko.call(t,i))&&a.push(i);return a}function zo(t){return function(t,e,r){var n=e(t);return ta(t)?n:ho(n,r(t))}(t,aa,Vo)}function Go(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function Ko(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Mo(r)?r:void 0}Ro.prototype.clear=function(){this.__data__=Fo?Fo(null):{}},Ro.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ro.prototype.get=function(t){var e=this.__data__;if(Fo){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return ko.call(e,t)?e[t]:void 0},Ro.prototype.has=function(t){var e=this.__data__;return Fo?void 0!==e[t]:ko.call(e,t)},Ro.prototype.set=function(t,e){return this.__data__[t]=Fo&&void 0===e?"__lodash_hash_undefined__":e,this},Io.prototype.clear=function(){this.__data__=[]},Io.prototype.delete=function(t){var e=this.__data__,r=Bo(e,t);return!(r<0)&&(r==e.length-1?e.pop():xo.call(e,r,1),!0)},Io.prototype.get=function(t){var e=this.__data__,r=Bo(e,t);return r<0?void 0:e[r][1]},Io.prototype.has=function(t){return Bo(this.__data__,t)>-1},Io.prototype.set=function(t,e){var r=this.__data__,n=Bo(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Lo.prototype.clear=function(){this.__data__={hash:new Ro,map:new(Uo||Io),string:new Ro}},Lo.prototype.delete=function(t){return Go(this,t).delete(t)},Lo.prototype.get=function(t){return Go(this,t).get(t)},Lo.prototype.has=function(t){return Go(this,t).has(t)},Lo.prototype.set=function(t,e){return Go(this,t).set(t,e),this},Do.prototype.add=Do.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Do.prototype.has=function(t){return this.__data__.has(t)};var Wo=Ao?yo(Ao,Object):ia,Vo=Ao?function(t){for(var e=[];t;)ho(e,Wo(t)),t=qo(t);return e}:ia;function Xo(t){return ta(t)||Yo(t)||!!(To&&t&&t[To])}function Ho(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||oo.test(t))&&t>-1&&t%1==0&&t<e}function Jo(t){if("string"==typeof t||function(t){return"symbol"==typeof t||oa(t)&&"[object Symbol]"==Oo.call(t)}(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Yo(t){return function(t){return oa(t)&&ea(t)}(t)&&ko.call(t,"callee")&&(!Co.call(t,"callee")||"[object Arguments]"==Oo.call(t))}var Qo,Zo,ta=Array.isArray;function ea(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!ra(t)}function ra(t){var e=na(t)?Oo.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function na(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function oa(t){return!!t&&"object"==typeof t}function aa(t){return ea(t)?No(t,!0):$o(t)}function ia(){return[]}var sa=(Qo=function(t,e){return null==t?{}:(e=lo(function t(e,r,n,o,a){var i=-1,s=e.length;for(n||(n=Xo),a||(a=[]);++i<s;){var u=e[i];r>0&&n(u)?r>1?t(u,r-1,n,o,a):ho(a,u):o||(a[a.length]=u)}return a}(e,1),Jo),function(t,e){return function(t,e,r){for(var n=-1,o=e.length,a={};++n<o;){var i=e[n],s=t[i];r(s,i)&&(a[i]=s)}return a}(t=Object(t),e,(function(e,r){return r in t}))}(t,function(t,e,r,n){var o,a=-1,i=co,s=!0,u=t.length,c=[],f=e.length;if(!u)return c;r&&(e=lo(e,(o=r,function(t){return o(t)}))),n?(i=fo,s=!1):e.length>=200&&(i=vo,s=!1,e=new Do(e));t:for(;++a<u;){var l=t[a],h=r?r(l):l;if(l=n||0!==l?l:0,s&&h==h){for(var p=f;p--;)if(e[p]===h)continue t;c.push(l)}else i(e,h,n)||c.push(l)}return c}(zo(t),e)))},Zo=Po(void 0===Zo?Qo.length-1:Zo,0),function(){for(var t=arguments,e=-1,r=Po(t.length-Zo,0),n=Array(r);++e<r;)n[e]=t[Zo+e];e=-1;for(var o=Array(Zo+1);++e<Zo;)o[e]=t[e];return o[Zo]=n,uo(Qo,this,o)}),ua=g((function(t,e){var r="[object Arguments]",n="[object Map]",o="[object Object]",a="[object Set]",i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/,u=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,l=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p[r]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p[n]=p["[object Number]"]=p[o]=p["[object RegExp]"]=p[a]=p["[object String]"]=p["[object WeakMap]"]=!1;var d="object"==typeof y&&y&&y.Object===Object&&y,v="object"==typeof self&&self&&self.Object===Object&&self,g=d||v||Function("return this")(),m=e&&!e.nodeType&&e,b=m&&t&&!t.nodeType&&t,_=b&&b.exports===m&&d.process,w=function(){try{return _&&_.binding("util")}catch(t){}}(),j=w&&w.isTypedArray;function k(t,e,r,n){var o=-1,a=t?t.length:0;for(n&&a&&(r=t[++o]);++o<a;)r=e(r,t[o],o,t);return r}function O(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function E(t,e,r,n,o){return o(t,(function(t,o,a){r=n?(n=!1,t):e(r,t,o,a)})),r}function S(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function q(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function C(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var x=Array.prototype,T=Function.prototype,A=Object.prototype,P=g["__core-js_shared__"],U=function(){var t=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),F=T.toString,R=A.hasOwnProperty,I=A.toString,L=RegExp("^"+F.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=g.Symbol,N=g.Uint8Array,B=A.propertyIsEnumerable,M=x.splice,$=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),z=kt(g,"DataView"),G=kt(g,"Map"),K=kt(g,"Promise"),W=kt(g,"Set"),V=kt(g,"WeakMap"),X=kt(Object,"create"),H=At(z),J=At(G),Y=At(K),Q=At(W),Z=At(V),tt=D?D.prototype:void 0,et=tt?tt.valueOf:void 0,rt=tt?tt.toString:void 0;function nt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ot(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function at(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function it(t){var e=-1,r=t?t.length:0;for(this.__data__=new at;++e<r;)this.add(t[e])}function st(t){this.__data__=new ot(t)}function ut(t,e){var r=Rt(t)||Ft(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var a in t)!e&&!R.call(t,a)||o&&("length"==a||Et(a,n))||r.push(a);return r}function ct(t,e){for(var r=t.length;r--;)if(Ut(t[r][0],e))return r;return-1}nt.prototype.clear=function(){this.__data__=X?X(null):{}},nt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},nt.prototype.get=function(t){var e=this.__data__;if(X){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return R.call(e,t)?e[t]:void 0},nt.prototype.has=function(t){var e=this.__data__;return X?void 0!==e[t]:R.call(e,t)},nt.prototype.set=function(t,e){return this.__data__[t]=X&&void 0===e?"__lodash_hash_undefined__":e,this},ot.prototype.clear=function(){this.__data__=[]},ot.prototype.delete=function(t){var e=this.__data__,r=ct(e,t);return!(r<0)&&(r==e.length-1?e.pop():M.call(e,r,1),!0)},ot.prototype.get=function(t){var e=this.__data__,r=ct(e,t);return r<0?void 0:e[r][1]},ot.prototype.has=function(t){return ct(this.__data__,t)>-1},ot.prototype.set=function(t,e){var r=this.__data__,n=ct(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},at.prototype.clear=function(){this.__data__={hash:new nt,map:new(G||ot),string:new nt}},at.prototype.delete=function(t){return jt(this,t).delete(t)},at.prototype.get=function(t){return jt(this,t).get(t)},at.prototype.has=function(t){return jt(this,t).has(t)},at.prototype.set=function(t,e){return jt(this,t).set(t,e),this},it.prototype.add=it.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},it.prototype.has=function(t){return this.__data__.has(t)},st.prototype.clear=function(){this.__data__=new ot},st.prototype.delete=function(t){return this.__data__.delete(t)},st.prototype.get=function(t){return this.__data__.get(t)},st.prototype.has=function(t){return this.__data__.has(t)},st.prototype.set=function(t,e){var r=this.__data__;if(r instanceof ot){var n=r.__data__;if(!G||n.length<199)return n.push([t,e]),this;r=this.__data__=new at(n)}return r.set(t,e),this};var ft,lt,ht=(ft=function(t,e){return t&&pt(t,e,zt)},function(t,e){if(null==t)return t;if(!It(t))return ft(t,e);for(var r=t.length,n=lt?r:-1,o=Object(t);(lt?n--:++n<r)&&!1!==e(o[n],n,o););return t}),pt=function(t){return function(e,r,n){for(var o=-1,a=Object(e),i=n(e),s=i.length;s--;){var u=i[t?s:++o];if(!1===r(a[u],u,a))break}return e}}();function dt(t,e){for(var r=0,n=(e=St(e,t)?[e]:_t(e)).length;null!=t&&r<n;)t=t[Tt(e[r++])];return r&&r==n?t:void 0}function vt(t,e){return null!=t&&e in Object(t)}function yt(t,e,i,s,u){return t===e||(null==t||null==e||!Nt(t)&&!Bt(e)?t!=t&&e!=e:function(t,e,i,s,u,c){var f=Rt(t),l=Rt(e),h="[object Array]",p="[object Array]";f||(h=(h=Ot(t))==r?o:h);l||(p=(p=Ot(e))==r?o:p);var d=h==o&&!S(t),v=p==o&&!S(e),y=h==p;if(y&&!d)return c||(c=new st),f||$t(t)?wt(t,e,i,s,u,c):function(t,e,r,o,i,s,u){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new N(t),new N(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ut(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case n:var c=q;case a:var f=2&s;if(c||(c=C),t.size!=e.size&&!f)return!1;var l=u.get(t);if(l)return l==e;s|=1,u.set(t,e);var h=wt(c(t),c(e),o,i,s,u);return u.delete(t),h;case"[object Symbol]":if(et)return et.call(t)==et.call(e)}return!1}(t,e,h,i,s,u,c);if(!(2&u)){var g=d&&R.call(t,"__wrapped__"),m=v&&R.call(e,"__wrapped__");if(g||m){var b=g?t.value():t,_=m?e.value():e;return c||(c=new st),i(b,_,s,u,c)}}if(!y)return!1;return c||(c=new st),function(t,e,r,n,o,a){var i=2&o,s=zt(t),u=s.length,c=zt(e).length;if(u!=c&&!i)return!1;var f=u;for(;f--;){var l=s[f];if(!(i?l in e:R.call(e,l)))return!1}var h=a.get(t);if(h&&a.get(e))return h==e;var p=!0;a.set(t,e),a.set(e,t);var d=i;for(;++f<u;){l=s[f];var v=t[l],y=e[l];if(n)var g=i?n(y,v,l,e,t,a):n(v,y,l,t,e,a);if(!(void 0===g?v===y||r(v,y,n,o,a):g)){p=!1;break}d||(d="constructor"==l)}if(p&&!d){var m=t.constructor,b=e.constructor;m!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b)&&(p=!1)}return a.delete(t),a.delete(e),p}(t,e,i,s,u,c)}(t,e,yt,i,s,u))}function gt(t){return!(!Nt(t)||function(t){return!!U&&U in t}(t))&&(Lt(t)||S(t)?L:l).test(At(t))}function mt(t){return"function"==typeof t?t:null==t?Gt:"object"==typeof t?Rt(t)?function(t,e){if(St(t)&&qt(e))return Ct(Tt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:dt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){e=St(e,t)?[e]:_t(e);var n,o=-1,a=e.length;for(;++o<a;){var i=Tt(e[o]);if(!(n=null!=t&&r(t,i)))break;t=t[i]}if(n)return n;return!!(a=t?t.length:0)&&Dt(a)&&Et(i,a)&&(Rt(t)||Ft(t))}(t,e,vt)}(r,t):yt(e,n,void 0,3)}}(t[0],t[1]):function(t){var e=function(t){var e=zt(t),r=e.length;for(;r--;){var n=e[r],o=t[n];e[r]=[n,o,qt(o)]}return e}(t);if(1==e.length&&e[0][2])return Ct(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var o=r.length,a=o,i=!n;if(null==t)return!a;for(t=Object(t);o--;){var s=r[o];if(i&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<a;){var u=(s=r[o])[0],c=t[u],f=s[1];if(i&&s[2]){if(void 0===c&&!(u in t))return!1}else{var l=new st;if(n)var h=n(c,f,u,t,e,l);if(!(void 0===h?yt(f,c,n,3,l):h))return!1}}return!0}(r,t,e)}}(t):function(t){return St(t)?function(t){return function(e){return null==e?void 0:e[t]}}(Tt(t)):function(t){return function(e){return dt(e,t)}}(t)}(t)}function bt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||A,e!==n)return $(t);var e,r,n,o=[];for(var a in Object(t))R.call(t,a)&&"constructor"!=a&&o.push(a);return o}function _t(t){return Rt(t)?t:xt(t)}function wt(t,e,r,n,o,a){var i=2&o,s=t.length,u=e.length;if(s!=u&&!(i&&u>s))return!1;var c=a.get(t);if(c&&a.get(e))return c==e;var f=-1,l=!0,h=1&o?new it:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var p=t[f],d=e[f];if(n)var v=i?n(d,p,f,e,t,a):n(p,d,f,t,e,a);if(void 0!==v){if(v)continue;l=!1;break}if(h){if(!O(e,(function(t,e){if(!h.has(e)&&(p===t||r(p,t,n,o,a)))return h.add(e)}))){l=!1;break}}else if(p!==d&&!r(p,d,n,o,a)){l=!1;break}}return a.delete(t),a.delete(e),l}function jt(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function kt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return gt(r)?r:void 0}var Ot=function(t){return I.call(t)};function Et(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||h.test(t))&&t>-1&&t%1==0&&t<e}function St(t,e){if(Rt(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Mt(t))||(s.test(t)||!i.test(t)||null!=e&&t in Object(e))}function qt(t){return t==t&&!Nt(t)}function Ct(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(z&&"[object DataView]"!=Ot(new z(new ArrayBuffer(1)))||G&&Ot(new G)!=n||K&&"[object Promise]"!=Ot(K.resolve())||W&&Ot(new W)!=a||V&&"[object WeakMap]"!=Ot(new V))&&(Ot=function(t){var e=I.call(t),r=e==o?t.constructor:void 0,i=r?At(r):void 0;if(i)switch(i){case H:return"[object DataView]";case J:return n;case Y:return"[object Promise]";case Q:return a;case Z:return"[object WeakMap]"}return e});var xt=Pt((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Mt(t))return rt?rt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var r=[];return u.test(t)&&r.push(""),t.replace(c,(function(t,e,n,o){r.push(n?o.replace(f,"$1"):e||t)})),r}));function Tt(t){if("string"==typeof t||Mt(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function At(t){if(null!=t){try{return F.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Pt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=t.apply(this,n);return r.cache=a.set(o,i),i};return r.cache=new(Pt.Cache||at),r}function Ut(t,e){return t===e||t!=t&&e!=e}function Ft(t){return function(t){return Bt(t)&&It(t)}(t)&&R.call(t,"callee")&&(!B.call(t,"callee")||I.call(t)==r)}Pt.Cache=at;var Rt=Array.isArray;function It(t){return null!=t&&Dt(t.length)&&!Lt(t)}function Lt(t){var e=Nt(t)?I.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function Dt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Nt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Bt(t){return!!t&&"object"==typeof t}function Mt(t){return"symbol"==typeof t||Bt(t)&&"[object Symbol]"==I.call(t)}var $t=j?function(t){return function(e){return t(e)}}(j):function(t){return Bt(t)&&Dt(t.length)&&!!p[I.call(t)]};function zt(t){return It(t)?ut(t):bt(t)}function Gt(t){return t}t.exports=function(t,e,r){var n=Rt(t)?k:E,o=arguments.length<3;return n(t,mt(e),r,o,ht)}}));var ca=function(){var t=this,e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t._batch.apply(t,["resource"].concat(r))};return{raw:e,remove:function(t){return e("delete",{ids:t})}}};var fa,la=function(){var t=this._options.settingsBaseUrlKey;if(this._options.hasOwnProperty("baseUrl"))return this._options.baseUrl?oe(this._options.baseUrl,{https:!0}):void 0;var e=t&&this._client._settings&&this._client._settings[t],r=this._client._settings&&this._client._settings.waylay_api,n=this._client.baseUrl,o=e||r||n;return"https://"!==o?oe(o,{https:!0}):""},ha=function(t){this._options.baseUrl=t},pa=Ar.URL,da=la,va=ha,ya=function(t){c(s,t);var e,o,i=v(s);function s(t,e){var r;return n(this,s),(r=i.call(this,t,e)).batch=ca.bind(p(r))(),r}return a(s,[{key:"data",get:function(){return this._client.data}},{key:"baseUrl",get:function(){return da.bind(this)()},set:function(t){return va.bind(this)(t)}},{key:"create",value:function(t){return this._request({path:"/api/resources",method:"POST",data:t})}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},{path:"/api/resources/".concat(t)},e);return this._request(r)}},{key:"children",value:function(t,e){var r=Object.assign({limit:10,skip:0},e),n=Object.assign({},{path:"/api/resources/".concat(t,"/children"),params:r});return this._request(n)}},{key:"parent",value:(o=r(regeneratorRuntime.mark((function t(e){var r,n,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object.assign({},{path:"/api/resources/".concat(e)}),t.next=3,this._request(r);case 3:if(n=t.sent,o=n.parentId){t.next=7;break}return t.abrupt("return",void 0);case 7:return a=Object.assign({},{path:"/api/resources/".concat(o)}),t.abrupt("return",this._request(a));case 9:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"references",value:(e=r(regeneratorRuntime.mark((function t(e){var r,n,o,a,i,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object.assign({},{path:"/api/resources/".concat(e),headers:{Accept:"application/hal+json"}}),t.next=3,this._request(r);case 3:if(n=t.sent,o=n._links,a=sa(o,["self","children","parent","resourceType"]),0!==Object.entries(a).length){t.next=8;break}return t.abrupt("return",void 0);case 8:return i=ua(a,(function(t,e,r){return t+="id=".concat(e.id,"&")}),""),s=i.slice(0,-1),u=Object.assign({},{path:"/api/resources?".concat(s)}),t.abrupt("return",this._request(u));case 12:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"referrers",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={path:"/api/resources/".concat(t,"/referrers"),params:Object.assign({limit:10,skip:0},e)};return this._request(r)}},{key:"update",value:function(t,e){return this._request({path:"/api/resources/".concat(t),method:"PATCH",data:e})}},{key:"replace",value:function(t,e){return this._request({path:"/api/resources/".concat(t),method:"PUT",data:e})}},{key:"remove",value:function(t){return this._request({path:"/api/resources/".concat(t),method:"DELETE"})}},{key:"search",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},{path:"/api/resources",params:t},e);return this._request(r)}},{key:"executeCommand",value:function(t,e,r){var n={name:e},o=Object.assign({},r,n);return this.data._request({path:"/resources/".concat(t,"/commands"),method:"POST",data:o})}},{key:"commandLogs",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({limit:10,skip:0},e),n=this._client.baseUrl,o=new pa("/api/resources/".concat(t,"/commands"),n).href,a=Object.assign({},{url:o,params:r});return this._request(a)}},{key:"changelog",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({limit:10,skip:0},e),n={path:"/api/resources/".concat(t,"/changes"),headers:{Accept:"application/vnd.waylay.paged+json"},params:r};return this._request(n)}}]),s}(Un),ga=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"getMetrics",value:function(t){return this._request({path:"/metrics",params:t})}},{key:"getMetric",value:function(t,e){return this._request({path:"/metrics/".concat(t),params:e})}}]),r}(Pn),ma=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return $(r),function(t){if(!P(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(r,n):r.__proto__=n,r}}():void 0),ba=function(t,e,r){var n,o;return ma&&"function"==typeof(n=e.constructor)&&n!==r&&P(o=n.prototype)&&o!==r.prototype&&ma(t,o),t},_a=w?Object.defineProperties:function(t,e){$(t);for(var r,n=Kt(e),o=n.length,a=0;o>a;)G.f(t,r=n[a++],e[r]);return t},wa=mt("document","documentElement"),ja=it("IE_PROTO"),ka=function(){},Oa=function(t){return"<script>"+t+"<\/script>"},Ea=function(){try{fa=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Ea=fa?function(t){t.write(Oa("")),t.close();var e=t.parentWindow.Object;return t=null,e}(fa):((e=D("iframe")).style.display="none",wa.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Oa("document.F=Object")),t.close(),t.F);for(var r=Tt.length;r--;)delete Ea.prototype[Tt[r]];return Ea()};st[ja]=!0;var Sa=Object.create||function(t,e){var r;return null!==t?(ka.prototype=$(t),r=new ka,ka.prototype=null,r[ja]=t):r=Ea(),void 0===e?r:_a(r,e)},qa="[\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff]",Ca=RegExp("^"+qa+qa+"*"),xa=RegExp(qa+qa+"*$"),Ta=function(t){return function(e){var r=String(T(e));return 1&t&&(r=r.replace(Ca,"")),2&t&&(r=r.replace(xa,"")),r}},Aa={start:Ta(1),end:Ta(2),trim:Ta(3)},Pa=Pt.f,Ua=M.f,Fa=G.f,Ra=Aa.trim,Ia=b.Number,La=Ia.prototype,Da="Number"==q(Sa(La)),Na=function(t){var e,r,n,o,a,i,s,u,c=U(t,!1);if("string"==typeof c&&c.length>2)if(43===(e=(c=Ra(c)).charCodeAt(0))||45===e){if(88===(r=c.charCodeAt(2))||120===r)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(i=(a=c.slice(2)).length,s=0;s<i;s++)if((u=a.charCodeAt(s))<48||u>o)return NaN;return parseInt(a,n)}return+c};if($t("Number",!Ia(" 0o1")||!Ia("0b1")||Ia("+0x1"))){for(var Ba,Ma=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof Ma&&(Da?_((function(){La.valueOf.call(r)})):"Number"!=q(r))?ba(new Ia(Na(e)),r,Ma):Na(e)},$a=w?Pa(Ia):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),za=0;$a.length>za;za++)R(Ia,Ba=$a[za])&&!R(Ma,Ba)&&Fa(Ma,Ba,Ua(Ia,Ba));Ma.prototype=La,La.constructor=Ma,vt(b,"Number",Ma)}var Ga=function(){var t=this,e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t._batch.apply(t,["task"].concat(r))};return{raw:e,start:function(t){return e("start",{ids:t})},stop:function(t){return e("stop",{ids:t})},remove:function(t){return e("delete",{ids:t})}}},Ka=function(e){c(o,e);var r=v(o);function o(t,e){var a;return n(this,o),(a=r.call(this,t,e)).batch=Ga.bind(p(a))(),a}return a(o,[{key:"create",value:function(t,e){return this._request({path:"/api/tasks",method:"POST",data:t,params:e})}},{key:"update",value:function(t,e){return this._request({path:"/api/tasks/".concat(t),method:"PUT",data:e})}},{key:"list",value:function(e,r,n){"object"===t(e)&&(n=r,r=e,e=void 0),"string"==typeof e&&(r=u(u({},r),{},{filter:e}));var o=r=Object.assign({limit:10,offset:0},r),a=o.limit,i=o.offset,s=o.headers,c=h(o,["limit","offset","headers"]);return this._request(u({path:"/api/tasks",params:Object.assign({hits:a,startIndex:i},c),headers:s},n))}},{key:"count",value:function(t){return this._request({method:"head",wantsFullResponse:!0,path:"/api/tasks",params:Object.assign({hits:0,startIndex:0},t)}).then((function(t){var e=t.headers["x-count"];return e?Number(e):void 0}))}},{key:"remove",value:function(t){return this._request({path:"/api/tasks/".concat(t),method:"DELETE"})}},{key:"batchRemove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._request({path:"/api/tasks",method:"DELETE",params:{id:t}})}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return this._request(u({path:"/api/tasks/".concat(t),params:e},r))}},{key:"start",value:function(t){return this._request({path:"/api/tasks/".concat(t,"/command/start"),method:"POST"})}},{key:"stop",value:function(t){return this._request({path:"/api/tasks/".concat(t,"/command/stop"),method:"POST"})}},{key:"stopAndRemove",value:function(t){var e=this;return this.stop(t).then((function(){return e.remove(t)}))}},{key:"log",value:function(t){var e=t.taskId,r=t.logLevel,n=t.messageContains,o=t.from,a=t.until,i=t.pageToken;return this._request({path:"/api/tasklogs",method:"POST",data:{taskId:e,logLevel:r,messageContains:n,from:o,until:a,pageToken:i}})}},{key:"pushState",value:function(t,e,r){var n=Tr.stringify({state:r});return this._request({path:"/api/tasks/".concat(t,"/nodes/").concat(e),method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:n})}}]),o}(Un);var Wa=function(){var t=this,e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t._batch.apply(t,["resourcetype"].concat(r))};return{raw:e,remove:function(t){return e("delete",{ids:t})}}},Va=la,Xa=ha,Ha=function(t){c(r,t);var e=v(r);function r(t,o){var a;return n(this,r),(a=e.call(this,t,o)).batch=Wa.bind(p(a))(),a}return a(r,[{key:"baseUrl",get:function(){return Va.bind(this)()},set:function(t){return Xa.bind(this)(t)}},{key:"create",value:function(t){return this._request({path:"/api/resourcetypes",method:"POST",data:t})}},{key:"remove",value:function(t){return this._request({path:"/api/resourcetypes/".concat(t),method:"DELETE"})}},{key:"update",value:function(t,e){return this._request({path:"/api/resourcetypes/".concat(t),method:"PUT",data:e})}},{key:"patch",value:function(t,e){return this._request({path:"/api/resourcetypes/".concat(t),method:"PATCH",data:e})}},{key:"list",value:function(t){return this._request({path:"/api/resourcetypes",params:t})}},{key:"get",value:function(t){return this._request({path:"/api/resourcetypes/".concat(t)})}},{key:"constraints",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._client._request(u({path:"/api/resourcetypes/".concat(t,"/constraints")},e))}},{key:"revalidate",value:function(t){return this._client._request({path:"/api/resourcetypes/".concat(t,"/revalidate"),method:"POST"})}},{key:"changelog",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({limit:10,skip:0},e),n={path:"/api/resourcetypes/".concat(t,"/changes"),headers:{Accept:"application/vnd.waylay.paged+json"},params:r};return this._request(n)}}]),r}(Un),Ja=b.Promise,Ya=function(t,e,r){for(var n in e)vt(t,n,e[n],r);return t},Qa=G.f,Za=mn("toStringTag"),ti=function(t,e,r){t&&!R(t=r?t:t.prototype,Za)&&Qa(t,Za,{configurable:!0,value:e})},ei=mn("species"),ri=function(t){var e=mt(t),r=G.f;w&&e&&!e[ei]&&r(e,ei,{configurable:!0,get:function(){return this}})},ni=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},oi=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t},ai={},ii=mn("iterator"),si=Array.prototype,ui=function(t,e,r){if(ni(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}},ci={};ci[mn("toStringTag")]="z";var fi="[object z]"===String(ci),li=mn("toStringTag"),hi="Arguments"==q(function(){return arguments}()),pi=fi?q:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),li))?r:hi?q(e):"Object"==(n=q(e))&&"function"==typeof e.callee?"Arguments":n},di=mn("iterator"),vi=function(t,e,r,n){try{return n?e($(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&$(o.call(t)),e}},yi=g((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,r,n,o,a){var i,s,u,c,f,l,h,p,d=ui(r,n,o?2:1);if(a)i=t;else{if("function"!=typeof(s=function(t){if(null!=t)return t[di]||t["@@iterator"]||ai[pi(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(p=s)&&(ai.Array===p||si[ii]===p)){for(u=0,c=kt(t.length);c>u;u++)if((f=o?d($(h=t[u])[0],h[1]):d(t[u]))&&f instanceof e)return f;return new e(!1)}i=s.call(t)}for(l=i.next;!(h=l.call(i)).done;)if("object"==typeof(f=vi(i,d,h.value,o))&&f&&f instanceof e)return f;return new e(!1)}).stop=function(t){return new e(!0,t)}})),gi=mn("iterator"),mi=!1;try{var bi=0,_i={next:function(){return{done:!!bi++}},return:function(){mi=!0}};_i[gi]=function(){return this},Array.from(_i,(function(){throw 2}))}catch(yr){}var wi,ji,ki,Oi=mn("species"),Ei=/(iphone|ipod|ipad).*applewebkit/i.test(wn),Si=b.location,qi=b.setImmediate,Ci=b.clearImmediate,xi=b.process,Ti=b.MessageChannel,Ai=b.Dispatch,Pi=0,Ui={},Fi=function(t){if(Ui.hasOwnProperty(t)){var e=Ui[t];delete Ui[t],e()}},Ri=function(t){return function(){Fi(t)}},Ii=function(t){Fi(t.data)},Li=function(t){b.postMessage(t+"",Si.protocol+"//"+Si.host)};qi&&Ci||(qi=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return Ui[++Pi]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},wi(Pi),Pi},Ci=function(t){delete Ui[t]},"process"==q(xi)?wi=function(t){xi.nextTick(Ri(t))}:Ai&&Ai.now?wi=function(t){Ai.now(Ri(t))}:Ti&&!Ei?(ki=(ji=new Ti).port2,ji.port1.onmessage=Ii,wi=ui(ki.postMessage,ki,1)):!b.addEventListener||"function"!=typeof postMessage||b.importScripts||_(Li)||"file:"===Si.protocol?wi="onreadystatechange"in D("script")?function(t){wa.appendChild(D("script")).onreadystatechange=function(){wa.removeChild(this),Fi(t)}}:function(t){setTimeout(Ri(t),0)}:(wi=Li,b.addEventListener("message",Ii,!1)));var Di,Ni,Bi,Mi,$i,zi,Gi,Ki,Wi={set:qi,clear:Ci},Vi=M.f,Xi=Wi.set,Hi=b.MutationObserver||b.WebKitMutationObserver,Ji=b.process,Yi=b.Promise,Qi="process"==q(Ji),Zi=Vi(b,"queueMicrotask"),ts=Zi&&Zi.value;ts||(Di=function(){var t,e;for(Qi&&(t=Ji.domain)&&t.exit();Ni;){e=Ni.fn,Ni=Ni.next;try{e()}catch(t){throw Ni?Mi():Bi=void 0,t}}Bi=void 0,t&&t.enter()},Qi?Mi=function(){Ji.nextTick(Di)}:Hi&&!Ei?($i=!0,zi=document.createTextNode(""),new Hi(Di).observe(zi,{characterData:!0}),Mi=function(){zi.data=$i=!$i}):Yi&&Yi.resolve?(Gi=Yi.resolve(void 0),Ki=Gi.then,Mi=function(){Ki.call(Gi,Di)}):Mi=function(){Xi.call(b,Di)});var es,rs,ns,os,as=ts||function(t){var e={fn:t,next:void 0};Bi&&(Bi.next=e),Ni||(Ni=e,Mi()),Bi=e},is=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=ni(e),this.reject=ni(r)},ss={f:function(t){return new is(t)}},us=function(t,e){if($(t),P(e)&&e.constructor===t)return e;var r=ss.f(t);return(0,r.resolve)(e),r.promise},cs=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},fs=Wi.set,ls=mn("species"),hs="Promise",ps=dt.get,ds=dt.set,vs=dt.getterFor(hs),ys=Ja,gs=b.TypeError,ms=b.document,bs=b.process,_s=mt("fetch"),ws=ss.f,js=ws,ks="process"==q(bs),Os=!!(ms&&ms.createEvent&&b.dispatchEvent),Es=$t(hs,(function(){if(!(Q(ys)!==String(ys))){if(66===En)return!0;if(!ks&&"function"!=typeof PromiseRejectionEvent)return!0}if(En>=51&&/native code/.test(ys))return!1;var t=ys.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[ls]=e,!(t.then((function(){}))instanceof e)})),Ss=Es||!function(t,e){if(!e&&!mi)return!1;var r=!1;try{var n={};n[gi]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r}((function(t){ys.all(t).catch((function(){}))})),qs=function(t){var e;return!(!P(t)||"function"!=typeof(e=t.then))&&e},Cs=function(t,e,r){if(!e.notified){e.notified=!0;var n=e.reactions;as((function(){for(var o=e.value,a=1==e.state,i=0;n.length>i;){var s,u,c,f=n[i++],l=a?f.ok:f.fail,h=f.resolve,p=f.reject,d=f.domain;try{l?(a||(2===e.rejection&&Ps(t,e),e.rejection=1),!0===l?s=o:(d&&d.enter(),s=l(o),d&&(d.exit(),c=!0)),s===f.promise?p(gs("Promise-chain cycle")):(u=qs(s))?u.call(s,h,p):h(s)):p(o)}catch(t){d&&!c&&d.exit(),p(t)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&Ts(t,e)}))}},xs=function(t,e,r){var n,o;Os?((n=ms.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),b.dispatchEvent(n)):n={promise:e,reason:r},(o=b["on"+t])?o(n):"unhandledrejection"===t&&function(t,e){var r=b.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}("Unhandled promise rejection",r)},Ts=function(t,e){fs.call(b,(function(){var r,n=e.value;if(As(e)&&(r=cs((function(){ks?bs.emit("unhandledRejection",n,t):xs("unhandledrejection",t,n)})),e.rejection=ks||As(e)?2:1,r.error))throw r.value}))},As=function(t){return 1!==t.rejection&&!t.parent},Ps=function(t,e){fs.call(b,(function(){ks?bs.emit("rejectionHandled",t):xs("rejectionhandled",t,e.value)}))},Us=function(t,e,r,n){return function(o){t(e,r,o,n)}},Fs=function(t,e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=2,Cs(t,e,!0))},Rs=function(t,e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(t===r)throw gs("Promise can't be resolved itself");var o=qs(r);o?as((function(){var n={done:!1};try{o.call(r,Us(Rs,t,n,e),Us(Fs,t,n,e))}catch(r){Fs(t,n,r,e)}})):(e.value=r,e.state=1,Cs(t,e,!1))}catch(r){Fs(t,{done:!1},r,e)}}};Es&&(ys=function(t){oi(this,ys,hs),ni(t),es.call(this);var e=ps(this);try{t(Us(Rs,this,e),Us(Fs,this,e))}catch(t){Fs(this,e,t)}},(es=function(t){ds(this,{type:hs,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Ya(ys.prototype,{then:function(t,e){var r,n,o,a=vs(this),i=ws((r=ys,void 0===(o=$(this).constructor)||null==(n=$(o)[Oi])?r:ni(n)));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=ks?bs.domain:void 0,a.parent=!0,a.reactions.push(i),0!=a.state&&Cs(this,a,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),rs=function(){var t=new es,e=ps(t);this.promise=t,this.resolve=Us(Rs,t,e),this.reject=Us(Fs,t,e)},ss.f=ws=function(t){return t===ys||t===ns?new rs(t):js(t)},"function"==typeof Ja&&(os=Ja.prototype.then,vt(Ja.prototype,"then",(function(t,e){var r=this;return new ys((function(t,e){os.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof _s&&Gt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return us(ys,_s.apply(b,arguments))}}))),Gt({global:!0,wrap:!0,forced:Es},{Promise:ys}),ti(ys,hs,!1),ri(hs),ns=mt(hs),Gt({target:hs,stat:!0,forced:Es},{reject:function(t){var e=ws(this);return e.reject.call(void 0,t),e.promise}}),Gt({target:hs,stat:!0,forced:Es},{resolve:function(t){return us(this,t)}}),Gt({target:hs,stat:!0,forced:Ss},{all:function(t){var e=this,r=ws(e),n=r.resolve,o=r.reject,a=cs((function(){var r=ni(e.resolve),a=[],i=0,s=1;yi(t,(function(t){var u=i++,c=!1;a.push(void 0),s++,r.call(e,t).then((function(t){c||(c=!0,a[u]=t,--s||n(a))}),o)})),--s||n(a)}));return a.error&&o(a.value),r.promise},race:function(t){var e=this,r=ws(e),n=r.reject,o=cs((function(){var o=ni(e.resolve);yi(t,(function(t){o.call(e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var Is=fi?{}.toString:function(){return"[object "+pi(this)+"]"};fi||vt(Object.prototype,"toString",Is,{unsafe:!0});var Ls="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Ds=function(t){if(void 0===t)return 0;var e=wt(t),r=kt(e);if(e!==r)throw RangeError("Wrong length or index");return r},Ns=Math.abs,Bs=Math.pow,Ms=Math.floor,$s=Math.log,zs=Math.LN2,Gs=function(t,e,r){var n,o,a,i=new Array(r),s=8*r-e-1,u=(1<<s)-1,c=u>>1,f=23===e?Bs(2,-24)-Bs(2,-77):0,l=t<0||0===t&&1/t<0?1:0,h=0;for((t=Ns(t))!=t||t===1/0?(o=t!=t?1:0,n=u):(n=Ms($s(t)/zs),t*(a=Bs(2,-n))<1&&(n--,a*=2),(t+=n+c>=1?f/a:f*Bs(2,1-c))*a>=2&&(n++,a/=2),n+c>=u?(o=0,n=u):n+c>=1?(o=(t*a-1)*Bs(2,e),n+=c):(o=t*Bs(2,c-1)*Bs(2,e),n=0));e>=8;i[h++]=255&o,o/=256,e-=8);for(n=n<<e|o,s+=e;s>0;i[h++]=255&n,n/=256,s-=8);return i[--h]|=128*l,i},Ks=function(t,e){var r,n=t.length,o=8*n-e-1,a=(1<<o)-1,i=a>>1,s=o-7,u=n-1,c=t[u--],f=127&c;for(c>>=7;s>0;f=256*f+t[u],u--,s-=8);for(r=f&(1<<-s)-1,f>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===f)f=1-i;else{if(f===a)return r?NaN:c?-1/0:1/0;r+=Bs(2,e),f-=i}return(c?-1:1)*r*Bs(2,f-e)},Ws=!_((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Vs=it("IE_PROTO"),Xs=Object.prototype,Hs=Ws?Object.getPrototypeOf:function(t){return t=Wt(t),R(t,Vs)?t[Vs]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Xs:null},Js=function(t){for(var e=Wt(this),r=kt(e.length),n=arguments.length,o=St(n>1?arguments[1]:void 0,r),a=n>2?arguments[2]:void 0,i=void 0===a?r:St(a,r);i>o;)e[o++]=t;return e},Ys=Pt.f,Qs=G.f,Zs=dt.get,tu=dt.set,eu=b.ArrayBuffer,ru=eu,nu=b.DataView,ou=nu&&nu.prototype,au=Object.prototype,iu=b.RangeError,su=Gs,uu=Ks,cu=function(t){return[255&t]},fu=function(t){return[255&t,t>>8&255]},lu=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},hu=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},pu=function(t){return su(t,23,4)},du=function(t){return su(t,52,8)},vu=function(t,e){Qs(t.prototype,e,{get:function(){return Zs(this)[e]}})},yu=function(t,e,r,n){var o=Ds(r),a=Zs(t);if(o+e>a.byteLength)throw iu("Wrong index");var i=Zs(a.buffer).bytes,s=o+a.byteOffset,u=i.slice(s,s+e);return n?u:u.reverse()},gu=function(t,e,r,n,o,a){var i=Ds(r),s=Zs(t);if(i+e>s.byteLength)throw iu("Wrong index");for(var u=Zs(s.buffer).bytes,c=i+s.byteOffset,f=n(+o),l=0;l<e;l++)u[c+l]=f[a?l:e-l-1]};if(Ls){if(!_((function(){eu(1)}))||!_((function(){new eu(-1)}))||_((function(){return new eu,new eu(1.5),new eu(NaN),"ArrayBuffer"!=eu.name}))){for(var mu,bu=(ru=function(t){return oi(this,ru),new eu(Ds(t))}).prototype=eu.prototype,_u=Ys(eu),wu=0;_u.length>wu;)(mu=_u[wu++])in ru||K(ru,mu,eu[mu]);bu.constructor=ru}ma&&Hs(ou)!==au&&ma(ou,au);var ju=new nu(new ru(2)),ku=ou.setInt8;ju.setInt8(0,2147483648),ju.setInt8(1,2147483649),!ju.getInt8(0)&&ju.getInt8(1)||Ya(ou,{setInt8:function(t,e){ku.call(this,t,e<<24>>24)},setUint8:function(t,e){ku.call(this,t,e<<24>>24)}},{unsafe:!0})}else ru=function(t){oi(this,ru,"ArrayBuffer");var e=Ds(t);tu(this,{bytes:Js.call(new Array(e),0),byteLength:e}),w||(this.byteLength=e)},nu=function(t,e,r){oi(this,nu,"DataView"),oi(t,ru,"DataView");var n=Zs(t).byteLength,o=wt(e);if(o<0||o>n)throw iu("Wrong offset");if(o+(r=void 0===r?n-o:kt(r))>n)throw iu("Wrong length");tu(this,{buffer:t,byteLength:r,byteOffset:o}),w||(this.buffer=t,this.byteLength=r,this.byteOffset=o)},w&&(vu(ru,"byteLength"),vu(nu,"buffer"),vu(nu,"byteLength"),vu(nu,"byteOffset")),Ya(nu.prototype,{getInt8:function(t){return yu(this,1,t)[0]<<24>>24},getUint8:function(t){return yu(this,1,t)[0]},getInt16:function(t){var e=yu(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=yu(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return hu(yu(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return hu(yu(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return uu(yu(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return uu(yu(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){gu(this,1,t,cu,e)},setUint8:function(t,e){gu(this,1,t,cu,e)},setInt16:function(t,e){gu(this,2,t,fu,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){gu(this,2,t,fu,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){gu(this,4,t,lu,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){gu(this,4,t,lu,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){gu(this,4,t,pu,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){gu(this,8,t,du,e,arguments.length>2?arguments[2]:void 0)}});ti(ru,"ArrayBuffer"),ti(nu,"DataView");var Ou={ArrayBuffer:ru,DataView:nu}.ArrayBuffer,Eu=b.ArrayBuffer;Gt({global:!0,forced:Eu!==Ou},{ArrayBuffer:Ou}),ri("ArrayBuffer");var Su=[].push,qu=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,a=6==t,i=5==t||a;return function(s,u,c,f){for(var l,h,p=Wt(s),d=x(p),v=ui(u,c,3),y=kt(d.length),g=0,m=f||_n,b=e?m(s,y):r?m(s,0):void 0;y>g;g++)if((i||g in d)&&(h=v(l=d[g],g,p),t))if(e)b[g]=h;else if(h)switch(t){case 3:return!0;case 5:return l;case 6:return g;case 2:Su.call(b,l)}else if(o)return!1;return a?-1:n||o?o:b}},Cu={forEach:qu(0),map:qu(1),filter:qu(2),some:qu(3),every:qu(4),find:qu(5),findIndex:qu(6)},xu=mn("unscopables"),Tu=Array.prototype;null==Tu[xu]&&G.f(Tu,xu,{configurable:!0,value:Sa(null)});var Au=function(t){Tu[xu][t]=!0},Pu=Cu.find,Uu=!0,Fu=Yn("find");"find"in[]&&Array(1).find((function(){Uu=!1})),Gt({target:"Array",proto:!0,forced:Uu||!Fu},{find:function(t){return Pu(this,t,arguments.length>1?arguments[1]:void 0)}}),Au("find");var Ru=Function.prototype,Iu=Object.prototype,Lu=Ru.toString,Du=Iu.hasOwnProperty,Nu=Lu.call(Object),Bu=Iu.toString,Mu=function(t,e){return function(r){return t(e(r))}}(Object.getPrototypeOf,Object);var $u=function(t){if(!function(t){return!!t&&"object"==typeof t}(t)||"[object Object]"!=Bu.call(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t))return!1;var e=Mu(t);if(null===e)return!0;var r=Du.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Lu.call(r)==Nu},zu=function(t){return"string"==typeof t},Gu=function(t){return $u(t)},Ku=function(t){return null!=(e=t)&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)||ArrayBuffer.isView(t);var e};
/*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   */var Wu=function(t){return!t||["latest","*"].some((function(e){return e===t}))},Vu=function(t){var e=tn(t).exp;return new Date(1e3*e)-6e4<new Date},Xu=function(e){var r=[{fn:zu,mime:"text/plain"},{fn:Gu,mime:"application/json"},{fn:Ku,mime:"application/octet-stream"}].find((function(t){return(0,t.fn)(e)}));if(!r)throw new TypeError("Unsupported vault data type: ".concat(t(e)));return r.mime},Hu=zu,Ju=Ku,Yu=Gu;var Qu=function(e){c(o,e);var r=v(o);function o(){return n(this,o),r.apply(this,arguments)}return a(o,[{key:"set",value:function(e,r){var n;return Hu(n=r)||Yu(n)||Ju(n)?this._request({method:"PUT",headers:{"Content-Type":Xu(r)},path:"/vault/".concat(e),data:r}):Promise.reject(new TypeError('unsupported data value, only strings buffers or plain objects are allowed, got "'.concat(t(r),'" instead.')))}},{key:"get",value:function(t){return this._request({path:"/vault/".concat(t)})}},{key:"remove",value:function(t){return this._request({method:"DELETE",path:"/vault/".concat(t)})}},{key:"keys",value:function(){return this._request({path:"/vault"})}}]),o}(Pn),Zu=Wu,tc=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"call",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"latest",n=arguments.length>3?arguments[3]:void 0,o={path:"/api/v1/".concat(t,"/").concat(e),method:"POST",data:n};return Zu(r)||Object.assign(o,{headers:{"X-Webscript-Version":r}}),this._request(o)}},{key:"list",value:function(){return this._request(this._getEndpoint("/api/v1/webscripts"))}},{key:"exists",value:function(t){return this._request(u(u({},this._getEndpoint("/api/v1/webscripts/".concat(t))),{},{method:"HEAD"})).then((function(){return!0})).catch((function(){return!1}))}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest",r=this._getEndpoint("/api/v1/webscripts/".concat(t));return Zu(e)||(r.headers={"X-Webscript-Version":e}),this._request(r)}},{key:"create",value:function(t){return this._request(u(u({},this._getEndpoint("/api/v1/webscripts")),{},{method:"POST",data:t}))}},{key:"remove",value:function(t){return this._request(u(u({},this._getEndpoint("/api/v1/webscripts/".concat(t))),{},{method:"DELETE"}))}},{key:"update",value:function(t,e){return this._request(u(u({},this._getEndpoint("/api/v1/webscripts/".concat(t))),{},{method:"PUT",data:e}))}},{key:"log",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest",r=this._getEndpoint("/api/v1/webscripts/logs/".concat(t));return Zu(e)||(r.headers={"X-Webscript-Version":e}),this._request(r)}},{key:"operation",value:function(t){return this._request(this._getEndpoint("/api/v1/webscripts/".concat(t)))}},{key:"_getEndpoint",value:function(t){var e=this._options.registry.baseUrl;return e?{url:Ar.resolve(e,t)}:{path:t}}}]),r}(Pn),ec=Cu.map,rc=qn("map"),nc=Yn("map");Gt({target:"Array",proto:!0,forced:!rc||!nc},{map:function(t){return ec(this,t,arguments.length>1?arguments[1]:void 0)}});var oc=_((function(){Kt(1)}));Gt({target:"Object",stat:!0,forced:oc},{keys:function(t){return Kt(Wt(t))}});var ac=Cu.filter,ic=qn("filter"),sc=Yn("filter");function uc(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.assign({resource:t,metric:e},r)}Gt({target:"Array",proto:!0,forced:!ic||!sc},{filter:function(t){return ac(this,t,arguments.length>1?arguments[1]:void 0)}});var cc=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"fit",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return this._usecase("fit",t,e,r,n,o)}},{key:"anomaly",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return this._usecase("anomaly",t,e,r,n,o)}},{key:"predict",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return this._usecase("predict",t,e,r,n,o)}},{key:"validate",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return this._usecase("validate",t,e,r,n,o)}},{key:"_usecase",value:function(t,e,r,n){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if(!e||!r)return Promise.reject(new TypeError("options is incomplete, doesn't include resource and/or tsaConfig"));var i="";return null!=a&&(i="?"+Object.keys(a).map((function(t){return"".concat(t,"=").concat(a[t])})).join("&")),o?n?this._request({path:"/".concat(t,"/").concat(e,"/").concat(r).concat(i),data:n,method:"POST"}):this._request({path:"/".concat(t,"/").concat(e,"/").concat(r).concat(i),method:"GET"}):this._request({path:"/".concat(t).concat(i),data:uc(e,r,n),method:"POST"})}},{key:"config",value:function(t,e){return t&&e?this._request({path:"/config/".concat(t,"/").concat(e)}):Promise.reject(new TypeError("data is incomplete, doesn't include resource and/or tsaConfig"))}},{key:"replaceConfig",value:function(t,e,r){return t&&e&&r?this._request({path:"/config/".concat(t,"/").concat(e),data:r,method:"PUT"}):Promise.reject(new TypeError("data is incomplete, doesn't include resource, configId and/or config"))}},{key:"updateConfig",value:function(t,e,r){return t&&e&&r?this._request({path:"/config/".concat(t,"/").concat(e),data:r,method:"PATCH"}):Promise.reject(new TypeError("data is incomplete, doesn't include resource, configId and/or config"))}},{key:"createConfig",value:function(t,e,r){return t&&e&&r?this._request({path:"/config/".concat(t),data:{name:e,options:r},method:"POST"}):Promise.reject(new TypeError("data is incomplete, doesn't include resource and/or config"))}},{key:"removeConfig",value:function(t,e){return t&&e?this._request({path:"/config/".concat(t,"/").concat(e),method:"DELETE"}):Promise.reject(new TypeError("data is incomplete, doesn't include resource and/or configId"))}},{key:"configs",value:function(t){return this._request({path:"/config/".concat(t)})}},{key:"getQuery",value:function(t){if(!t)throw new Error("data is incomplete, doesn't include queryName");return this._request({path:"/config/query/".concat(t)})}},{key:"removeQuery",value:function(t){if(!t)throw new Error("data is incomplete, doesn't include queryName");return this._request({path:"/config/query/".concat(t),method:"DELETE"})}},{key:"createQuery",value:function(t,e){if(!t||!e)throw new Error("data is incomplete, doesn't include queryName or query");return this._request({path:"/config/query/".concat(t),data:{query:e},method:"PUT"})}},{key:"replaceQuery",value:function(t,e){if(!t||!e)throw new Error("data is incomplete, doesn't include queryName or query");return this._request({path:"/config/query/".concat(t),data:{query:e},method:"PUT"})}},{key:"getQueries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filter,r=void 0===e?"":e,n=t.offset,o=void 0===n?0:n,a=t.limit,i=void 0===a?100:a;return this._request({path:"/config/query",params:{q:r,offset:o,limit:i}})}},{key:"getQueryData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("data is incomplete, doesn't include queryName");return this._request({path:"/data/query/".concat(t),params:u({"render.mode":"RENDER_MODE_SERIES"},e)})}}]),r}(Pn),fc=uc;cc.generateData=fc;var lc=Wu,hc=function(e){c(o,e);var r=v(o);function o(t,e,a){var i;return n(this,o),(i=r.call(this,t,e))._type=a,i}return a(o,[{key:"execute",value:function(t,e,r){var n=lc(e)?"/api/".concat(this._type,"/").concat(t):"/api/".concat(this._type,"/").concat(t,"/versions/").concat(e);return this._request({path:n,method:"POST",data:r})}},{key:"list",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._request(u(u({},this._getEndpoint("/api/".concat(this._type))),{},{params:t}))}},{key:"get",value:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=lc(r);"object"===t(r)&&(n=r,o=!0);var a=o?"/api/".concat(this._type,"/").concat(e):"/api/".concat(this._type,"/").concat(e,"/versions/").concat(r);return this._request(u(u({},this._getEndpoint(a)),{},{params:n}))}},{key:"create",value:function(t){return this._request(u(u({},this._getEndpoint("/api/".concat(this._type))),{},{method:"POST",data:t}))}},{key:"remove",value:function(t,e){return this._request(u(u({},this._getEndpoint("/api/".concat(this._type,"/").concat(t))),{},{method:"DELETE",params:e}))}},{key:"getScript",value:function(t,e){return this._request(this._getEndpoint("/api/".concat(this._type,"/").concat(t,"/versions/").concat(e,"/script")))}},{key:"getVersions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._request(u(u({},this._getEndpoint("/api/".concat(this._type,"/").concat(t,"/versions"))),{},{params:e}))}},{key:"_getEndpoint",value:function(t){var e=this._options.registry.baseUrl;return e?{url:Ar.resolve(e,t)}:{path:t}}}]),o}(Pn),pc=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"list",value:function(){return this._request({path:"/"})}},{key:"get",value:function(t){return this._request({path:"/".concat(t)})}},{key:"create",value:function(t){return this._request({path:"/",method:"POST",data:t})}},{key:"update",value:function(t,e){return this._request({path:"/".concat(t),method:"PUT",data:e})}},{key:"patch",value:function(t,e){return this._request({path:"/".concat(t),method:"PATCH",data:e})}},{key:"remove",value:function(t){return this._request({path:"/".concat(t),method:"DELETE"})}}]),r}(Pn),dc=function(e){c(o,e);var r=v(o);function o(){return n(this,o),r.apply(this,arguments)}return a(o,[{key:"create",value:function(t,e){return this._request({path:"/api/templates",method:"POST",data:t,params:e})}},{key:"update",value:function(t,e,r){return this._request({path:"/api/templates/".concat(t),method:"PUT",data:e,params:r})}},{key:"list",value:function(e,r,n){return"object"===t(e)&&(n=r,r=e,e=void 0),"string"==typeof e&&(r=u(u({},r),{},{filter:e})),this._request(u({path:"/api/templates",params:r},n))}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._request({path:"/api/templates/".concat(t),params:e})}},{key:"remove",value:function(t){return this._request({path:"/api/templates/".concat(t),method:"DELETE"})}},{key:"variables",value:function(t){return this._request({path:"/api/variableDeclarations",method:"POST",data:t})}}]),o}(Pn),vc=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"list",value:function(){return this._request({path:"/api/settings"})}},{key:"set",value:function(t,e){return this._request({method:"POST",path:"/api/settings",responseType:"json",data:i({},t,e)})}},{key:"remove",value:function(t){return this._request({method:"DELETE",path:"/api/settings/".concat(t)})}}]),r}(Pn),yc="object"==typeof self?self.FormData:window.FormData,gc=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"getAll",value:function(){return this._request({path:"/converter/",method:"GET"})}},{key:"get",value:function(t){return this._request({path:"/converter/".concat(t),method:"GET"})}},{key:"create",value:function(t,e,r){var n={type:e,template:r};return this._request({path:"/converter/".concat(t),method:"PUT",data:n})}},{key:"update",value:function(t,e,r){var n={type:e,template:r};return this._request({path:"/converter/".concat(t),method:"PUT",data:n})}},{key:"delete",value:function(t){return this._request({path:"/converter/".concat(t),method:"DELETE"})}},{key:"convert",value:function(t,e,r){var n=new yc;return n.append("payload",Buffer.from(JSON.stringify(e),"utf-8"),{filename:"payload.json",contentType:"application/json"}),this._request({path:"/converter/".concat(t,"/convert"),method:"POST",data:n,params:r})}},{key:"test",value:function(t,e,r){var n={type:t,template:e},o=new yc;return o.append("payload",Buffer.from(JSON.stringify(r),"utf-8"),{filename:"payload.json",contentType:"application/json"}),o.append("config",Buffer.from(JSON.stringify(n),"utf-8"),{filename:"config.json",contentType:"application/json"}),this._request({path:"/converter/test",method:"POST",data:o})}}]),r}(Pn),mc=la,bc=ha,_c=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"baseUrl",get:function(){return mc.bind(this)()},set:function(t){return bc.bind(this)(t)}},{key:"list",value:function(t){return this._request({path:"/api/resourceconstraints",params:t})}},{key:"get",value:function(t){return this._request({path:"/api/resourceconstraints/".concat(t)})}},{key:"create",value:function(t){return this._request({path:"/api/resourceconstraints",method:"POST",data:t})}},{key:"update",value:function(t,e){return this._request({path:"/api/resourceconstraints/".concat(t),method:"PUT",data:e})}},{key:"remove",value:function(t){return this._request({path:"/api/resourceconstraints/".concat(t),method:"DELETE"})}}]),r}(Pn),wc=/"/g;Gt({target:"String",proto:!0,forced:function(t){return _((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}("sub")},{sub:function(){return t="sub",e="",r="",n=String(T(this)),o="<"+t,""!==e&&(o+=" "+e+'="'+String(r).replace(wc,"&quot;")+'"'),o+">"+n+"</"+t+">";var t,e,r,n,o}});var jc=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"getTokens",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.sub,n=e.scope,o=void 0===n?"personal":n;return this._request({method:"GET",path:"/tokens/".concat(t),params:{sub:r},headers:{"X-Waylay-Auth-Scope":o}})}},{key:"getAllTokens",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.sub,r=t.scope,n=void 0===r?"personal":r;return this._request({method:"GET",path:"/tokens",params:{sub:e},headers:{"X-Waylay-Auth-Scope":n}})}},{key:"provider",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.sub,n=e.scope,o=void 0===n?"personal":n;return this._request({method:"GET",path:"/providers/".concat(t),params:{sub:r},headers:{"X-Waylay-Auth-Scope":o}})}},{key:"providers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.sub,r=t.scope,n=void 0===r?"personal":r;return this._request({method:"GET",path:"/providers",params:{sub:e},headers:{"X-Waylay-Auth-Scope":n}})}},{key:"remove",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.sub,n=e.scope,o=void 0===n?"personal":n;return this._request({method:"DELETE",path:"/tokens/".concat(t),params:{sub:r},headers:{"X-Waylay-Auth-Scope":o}})}},{key:"removeAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.sub,r=t.scope,n=void 0===r?"personal":r;return this._request({method:"DELETE",path:"/tokens",params:{sub:e},headers:{"X-Waylay-Auth-Scope":n}})}}]),r}(Pn),kc=function(){var t=$(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function Oc(t,e){return RegExp(t,e)}var Ec,Sc,qc={UNSUPPORTED_Y:_((function(){var t=Oc("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:_((function(){var t=Oc("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},Cc=RegExp.prototype.exec,xc=String.prototype.replace,Tc=Cc,Ac=(Ec=/a/,Sc=/b*/g,Cc.call(Ec,"a"),Cc.call(Sc,"a"),0!==Ec.lastIndex||0!==Sc.lastIndex),Pc=qc.UNSUPPORTED_Y||qc.BROKEN_CARET,Uc=void 0!==/()??/.exec("")[1];(Ac||Uc||Pc)&&(Tc=function(t){var e,r,n,o,a=this,i=Pc&&a.sticky,s=kc.call(a),u=a.source,c=0,f=t;return i&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),f=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(u="(?: "+u+")",f=" "+f,c++),r=new RegExp("^(?:"+u+")",s)),Uc&&(r=new RegExp("^"+u+"$(?!\\s)",s)),Ac&&(e=a.lastIndex),n=Cc.call(i?r:a,f),i?n?(n.input=n.input.slice(c),n[0]=n[0].slice(c),n.index=a.lastIndex,a.lastIndex+=n[0].length):a.lastIndex=0:Ac&&n&&(a.lastIndex=a.global?n.index+n[0].length:e),Uc&&n&&n.length>1&&xc.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n});var Fc=Tc;Gt({target:"RegExp",proto:!0,forced:/./.exec!==Fc},{exec:Fc});var Rc=mn("species"),Ic=!_((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Lc="$0"==="a".replace(/./,"$0"),Dc=mn("replace"),Nc=!!/./[Dc]&&""===/./[Dc]("a","$0"),Bc=!_((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),Mc=function(t){return function(e,r){var n,o,a=String(T(e)),i=wt(r),s=a.length;return i<0||i>=s?t?"":void 0:(n=a.charCodeAt(i))<55296||n>56319||i+1===s||(o=a.charCodeAt(i+1))<56320||o>57343?t?a.charAt(i):n:t?a.slice(i,i+2):o-56320+(n-55296<<10)+65536}},$c={codeAt:Mc(!1),charAt:Mc(!0)}.charAt,zc=function(t,e,r){return e+(r?$c(t,e).length:1)},Gc=function(t,e){var r=t.exec;if("function"==typeof r){var n=r.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==q(t))throw TypeError("RegExp#exec called on incompatible receiver");return Fc.call(t,e)},Kc=Math.max,Wc=Math.min,Vc=Math.floor,Xc=/\$([$&'`]|\d\d?|<[^>]*>)/g,Hc=/\$([$&'`]|\d\d?)/g;!function(t,e,r,n){var o=mn(t),a=!_((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),i=a&&!_((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[Rc]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!a||!i||"replace"===t&&(!Ic||!Lc||Nc)||"split"===t&&!Bc){var s=/./[o],u=r(o,""[t],(function(t,e,r,n,o){return e.exec===Fc?a&&!o?{done:!0,value:s.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:Lc,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Nc}),c=u[0],f=u[1];vt(String.prototype,t,c),vt(RegExp.prototype,o,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)})}n&&K(RegExp.prototype[o],"sham",!0)}("replace",2,(function(t,e,r,n){var o=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,a=n.REPLACE_KEEPS_$0,i=o?"$":"$0";return[function(r,n){var o=T(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,n):e.call(String(o),r,n)},function(t,n){if(!o&&a||"string"==typeof n&&-1===n.indexOf(i)){var u=r(e,t,this,n);if(u.done)return u.value}var c=$(t),f=String(this),l="function"==typeof n;l||(n=String(n));var h=c.global;if(h){var p=c.unicode;c.lastIndex=0}for(var d=[];;){var v=Gc(c,f);if(null===v)break;if(d.push(v),!h)break;""===String(v[0])&&(c.lastIndex=zc(f,kt(c.lastIndex),p))}for(var y,g="",m=0,b=0;b<d.length;b++){v=d[b];for(var _=String(v[0]),w=Kc(Wc(wt(v.index),f.length),0),j=[],k=1;k<v.length;k++)j.push(void 0===(y=v[k])?y:String(y));var O=v.groups;if(l){var E=[_].concat(j,w,f);void 0!==O&&E.push(O);var S=String(n.apply(void 0,E))}else S=s(_,f,w,j,O,n);w>=m&&(g+=f.slice(m,w)+S,m=w+_.length)}return g+f.slice(m)}];function s(t,r,n,o,a,i){var s=n+t.length,u=o.length,c=Hc;return void 0!==a&&(a=Wt(a),c=Xc),e.call(i,c,(function(e,i){var c;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,n);case"'":return r.slice(s);case"<":c=a[i.slice(1,-1)];break;default:var f=+i;if(0===f)return e;if(f>u){var l=Vc(f/10);return 0===l?e:l<=u?void 0===o[l-1]?i.charAt(1):o[l-1]+i.charAt(1):e}c=o[f-1]}return void 0===c?"":c}))}}));var Jc,Yc=ne("waylay:client");function Qc(t){return t?t.replace(/^\/+/,"").replace(/\/+$/,"/"):""}function Zc(t){if(!t)return"";var e=t.replace(/^\/+/,"").replace(/\/+$/,"");return""===e?"":e+"/"}Jc="undefined"!=typeof window&&window.FormData?window.FormData:yc;var tf=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"list",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._request({path:"/bucket",params:t})}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._request({path:"/bucket/".concat(t),params:e})}}]),r}(Pn),ef=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"list",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request({path:"/bucket/".concat(t,"/").concat(Qc(e)),params:r})}},{key:"get",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request({path:"/bucket/".concat(t,"/").concat(Qc(e)),params:Object.assign({},r,{stat:!0})})}},{key:"signGet",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request({path:"/bucket/".concat(t,"/").concat(Qc(e)),params:Object.assign({},r,{sign:"GET"})})}},{key:"signPut",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request({path:"/bucket/".concat(t,"/").concat(Qc(e)),params:Object.assign({},r,{sign:"PUT"})})}},{key:"signPost",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request({path:"/bucket/".concat(t,"/").concat(Qc(e)),params:Object.assign({},r,{sign:"POST"})})}},{key:"remove",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request({path:"/bucket/".concat(t,"/").concat(Qc(e)),params:r,method:"DELETE"})}},{key:"removeAll",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request({path:"/bucket/".concat(t,"/").concat(Qc(e)),params:Object.assign({},r,{recursive:!0}),method:"DELETE"})}}]),r}(Pn),rf=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"list",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request({path:"/bucket/".concat(t,"/").concat(Zc(e)),params:r})}},{key:"get",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request({path:"/bucket/".concat(t,"/").concat(Zc(e)),params:Object.assign({},r,{stat:!0})})}},{key:"signPost",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request({path:"/bucket/".concat(t,"/").concat(Zc(e)),params:Object.assign({},r,{sign:"POST"})})}},{key:"create",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request({path:"/bucket/".concat(t,"/").concat(Zc(e)),params:r,method:"PUT"})}},{key:"remove",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request({path:"/bucket/".concat(t,"/").concat(Zc(e)),params:r,method:"DELETE"})}},{key:"removeAll",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request({path:"/bucket/".concat(t,"/").concat(Zc(e)),params:Object.assign({},r,{recursive:!0}),method:"DELETE"})}}]),r}(Pn),nf=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"list",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._request({path:"/subscription/".concat(t),params:e})}},{key:"get",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request({path:"/subscription/".concat(t,"/").concat(e),params:r})}},{key:"create",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request({path:"/subscription/".concat(t),params:r,data:e,method:"POST"})}},{key:"replace",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this._request({path:"/subscription/".concat(t,"/").concat(e),params:n,data:r,method:"PUT"})}},{key:"remove",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request({path:"/subscription/".concat(t,"/").concat(e),params:r,method:"DELETE"})}},{key:"removeAll",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._request({path:"/subscription/".concat(t),params:e,method:"DELETE"})}}]),r}(Pn),of=function(){function e(t,r){n(this,e),this._options=t,this._client=r}return a(e,[{key:"_contentRequest",value:function(e){var r=this;return"undefined"==typeof window&&"object"===("undefined"==typeof process?"undefined":t(process))&&(e.headers=Object.assign({},e.headers,{"User-Agent":"waylay-js"})),Yc("Making request: \n%O",e),this._client.httpClient(e).then((function(t){return r.wantsFullResponse?t:t.data}))}},{key:"_getResponseData",value:function(t){return this.wantsFullResponse?t.data:t}},{key:"wantsFullResponse",get:function(){return this._client.wantsFullResponse||this._options.wantsFullResponse}},{key:"get",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._client.storage.object.signGet(t,e,n).then((function(t){return r.getSigned(r._getResponseData(t)._links.get_object)}))}},{key:"getSigned",value:function(t){return this._contentRequest({url:t.href,method:"GET"})}},{key:"put",value:function(t,e,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=o.content_type;return this._client.storage.object.signPut(t,e,o).then((function(t){return n.putSigned(n._getResponseData(t)._links.put_object,r,{content_type:a})}))}},{key:"putSigned",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.content_type,o={url:t.href,data:e,method:"PUT"};return n&&(o.headers={"content-type":n}),this._contentRequest(o)}},{key:"post",value:function(t,e,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=o.content_type;return this._client.storage.object.signPost(t,e,o).then((function(t){return n.postSigned(n._getResponseData(t)._links.post_object,r,{content_type:a})}))}},{key:"postSigned",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.content_type,o=r.path,a=Object.assign({},t.form_data);n&&(a["content-type"]=n),o&&(a.key=o);var i=new Jc(a);return i.append("file",e),this._contentRequest({url:t.href,data:i,method:"POST"})}}]),e}(),af=function t(e,r){n(this,t),this.bucket=new tf(e,r),this.object=new ef(e,r),this.folder=new rf(e,r),this.content=new of(e,r),this.subscription=new nf(e,r)},sf=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"list",value:function(t){return this._request({path:"/users",params:t})}},{key:"get",value:function(t){return this._request({path:"/users/".concat(t)})}},{key:"create",value:function(t){return this._request({path:"/users",method:"POST",data:t})}},{key:"update",value:function(t,e){return this._request({path:"/users/".concat(t),method:"PUT",data:e})}},{key:"delete",value:function(t){return this._request({path:"/users/".concat(t),method:"DELETE"})}},{key:"addRole",value:function(t,e,r){return this._request({path:"/roles/".concat(e,"/user"),method:"POST",data:{userId:t,tenantId:r}})}},{key:"removeRole",value:function(t,e,r){return this._request({path:"/roles/".concat(e,"/user/").concat(t),method:"DELETE",params:{tenant:r}})}},{key:"resetPassword",value:function(t){return this._request({path:"/password/forgot",method:"POST",data:{userId:t}})}}]),r}(Pn),uf=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"branding",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.hostname;return this._request({path:"/tenants/branding",params:u({},e&&{hostname:e})})}}]),r}(Pn),cf=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"list",value:function(t){return this._request({path:"/roles",params:t})}},{key:"get",value:function(t){return this._request({path:"/roles/".concat(t)})}},{key:"create",value:function(t){return this._request({path:"/roles",method:"POST",data:t})}},{key:"update",value:function(t,e){return this._request({path:"/roles/".concat(t),method:"PUT",data:e})}},{key:"delete",value:function(t){return this._request({path:"/roles/".concat(t),method:"DELETE"})}},{key:"addPermission",value:function(t,e){return this._request({path:"/roles/".concat(t,"/permissions"),method:"POST",data:{permissionId:e}})}},{key:"removePermission",value:function(t,e){return this._request({path:"/roles/".concat(t,"/permissions/").concat(e),method:"DELETE"})}},{key:"addUser",value:function(t,e,r){return this._request({path:"/roles/".concat(t,"/user"),method:"POST",data:{userId:e,tenantId:r}})}},{key:"removeUser",value:function(t,e,r){return this._request({path:"/roles/".concat(t,"/user/").concat(e),method:"DELETE",params:{tenant:r}})}}]),r}(Pn),ff=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"list",value:function(){return this._request({path:"/roles/predefined"})}}]),r}(Pn),lf=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"list",value:function(){return this._request({path:"/permissions"})}},{key:"get",value:function(t){return this._request({path:"/permissions/".concat(t)})}},{key:"concepts",value:function(){return this._request({path:"/permissions/concepts"})}}]),r}(Pn);Gt({target:"Object",stat:!0},{fromEntries:function(t){var e={};return yi(t,(function(t,r){hn(e,t,r)}),void 0,!0),e}});var hf,pf,df,vf=mn("iterator"),yf=!1;[].keys&&("next"in(df=[].keys())?(pf=Hs(Hs(df)))!==Object.prototype&&(hf=pf):yf=!0),null==hf&&(hf={}),R(hf,vf)||K(hf,vf,(function(){return this}));var gf={IteratorPrototype:hf,BUGGY_SAFARI_ITERATORS:yf},mf=gf.IteratorPrototype,bf=function(){return this},_f=gf.IteratorPrototype,wf=gf.BUGGY_SAFARI_ITERATORS,jf=mn("iterator"),kf=function(){return this},Of=dt.set,Ef=dt.getterFor("Array Iterator");!function(t,e,r,n,o,a,i){!function(t,e,r){var n=e+" Iterator";t.prototype=Sa(mf,{next:E(1,r)}),ti(t,n,!1),ai[n]=bf}(r,e,n);var s,u,c,f=function(t){if(t===o&&v)return v;if(!wf&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",h=!1,p=t.prototype,d=p[jf]||p["@@iterator"]||o&&p[o],v=!wf&&d||f(o),y="Array"==e&&p.entries||d;if(y&&(s=Hs(y.call(new t)),_f!==Object.prototype&&s.next&&(Hs(s)!==_f&&(ma?ma(s,_f):"function"!=typeof s[jf]&&K(s,jf,kf)),ti(s,l,!0))),"values"==o&&d&&"values"!==d.name&&(h=!0,v=function(){return d.call(this)}),p[jf]!==v&&K(p,jf,v),ai[e]=v,o)if(u={values:f("values"),keys:a?v:f("keys"),entries:f("entries")},i)for(c in u)!wf&&!h&&c in p||vt(p,c,u[c]);else Gt({target:e,proto:!0,forced:wf||h},u)}(Array,"Array",(function(t,e){Of(this,{type:"Array Iterator",target:A(t),index:0,kind:e})}),(function(){var t=Ef(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");ai.Arguments=ai.Array,Au("keys"),Au("values"),Au("entries");var Sf=function(t){c(r,t);var e=v(r);function r(){return n(this,r),e.apply(this,arguments)}return a(r,[{key:"status",value:function(t,e){var r=Object.fromEntries([["userId",t],["tenantId",e]].filter((function(t){return t[1]})));return this._request({path:"/auth/2fa/status",params:r})}},{key:"enableTwoFAEnforcement",value:function(t){return this._request({path:"/auth/2fa/".concat(t,"/enforce"),method:"POST",data:{state:!0}})}},{key:"disableTwoFAEnforcement",value:function(t){return this._request({path:"/auth/2fa/".concat(t,"/enforce"),method:"POST",data:{state:!1}})}}]),r}(Pn),qf=function(t){c(r,t);var e=v(r);function r(t,o){var a;return n(this,r),(a=e.call(this,t,o)).refreshCallback=t.onTokenRefresh,a}return a(r,[{key:"refresh",value:function(){var t=this,e={method:"post",path:"/tokens",params:{grant_type:"refresh_token"},data:{token:this._client._refreshToken}};return this._request(e).then((function(e){return t.refreshCallback&&t.refreshCallback(null,e),e})).catch((function(e){throw t.refreshCallback&&t.refreshCallback(e),e}))}}]),r}(Pn),Cf=ne("waylay:client"),xf=Vu,Tf={api:{settingsBaseUrlKey:"waylay_api"},actuators:{settingsBaseUrlKey:"waylay_api"},sensors:{settingsBaseUrlKey:"waylay_api"},transformers:{settingsBaseUrlKey:"waylay_api"},tasks:{settingsBaseUrlKey:"waylay_api"},templates:{settingsBaseUrlKey:"waylay_api"},resources:{settingsBaseUrlKey:"waylay_resources"},types:{settingsBaseUrlKey:"waylay_resources"},constraints:{settingsBaseUrlKey:"waylay_resources"},data:{defaultBaseUrl:"https://data.waylay.io",settingsBaseUrlKey:"waylay_data"},alarms:{defaultBaseUrl:"https://alarms.waylay.io",settingsBaseUrlKey:"waylay_alarms"},vault:{defaultBaseUrl:"https://vault.waylay.io",settingsBaseUrlKey:"waylay_vault"},webscripts:{defaultBaseUrl:"https://webscripts.waylay.io",settingsBaseUrlKey:"waylay_webscripts"},analytics:{defaultBaseUrl:"https://ts-analytics.waylay.io",settingsBaseUrlKey:"waylay_analytics"},policies:{defaultBaseUrl:"https://policies.waylay.io",settingsBaseUrlKey:"waylay_policies"},accounts:{defaultBaseUrl:"https://accounts-api.waylay.io",settingsBaseUrlKey:"waylay_accounts"},byoml:{defaultBaseUrl:"https://byoml.waylay.io",settingsBaseUrlKey:"waylay_byoml"},stats:{defaultBaseUrl:"https://stats.waylay.io",settingsBaseUrlKey:"waylay_stats"},sql:{defaultBaseUrl:"https://sql-connector.waylay.io",settingsBaseUrlKey:"waylay_sql"},converter:{defaultBaseUrl:"https://converter.waylay.io",settingsBaseUrlKey:"waylay_converter"},hoard:{defaultBaseUrl:"https://auth.waylay.io",settingsBaseUrlKey:"waylay_hoard"},storage:{defaultBaseUrl:"https://storage.waylay.io",settingsBaseUrlKey:"waylay_storage"},registry:{defaultBaseUrl:"https://plugs.waylay.io",settingsBaseUrlKey:"waylay_registry"}};function Af(t){try{return t!==decodeURIComponent(t)}catch(t){return!1}}return function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e);var o={accounts:r.auth,actuators:r.api,sensors:r.api,transformers:r.api,types:r.types?r.types:r.api,tasks:r.api,resources:r.resources?r.resources:r.api,templates:r.api,constraints:r.constraints?r.constraints:r.api},a=Hr({},r,o,Tf);this.setToken(a.token),this.setRefreshToken(a.refreshToken),this.wantsFullResponse=a.fullResponse||!1,this.auth=a.clientID&&a.secret?{username:a.clientID,password:a.secret}:void 0,this.setDomain(a.domain),a.globalSettings&&this.withSettings(a.globalSettings),this.httpClient=fr.create(a.httpClient),this.actuators=new hc(u(u({},a.actuators),{},{registry:a.registry}),this,"actions"),this.sensors=new hc(u(u({},a.sensors),{},{registry:a.registry}),this,"sensors"),this.transformers=new hc(u(u({},a.transformers),{},{registry:a.registry}),this,"transformers"),this.types=new Ha(a.types,this),this.tasks=new Ka(a.tasks,this),this.data=new Gn(a.data,this),this.resources=new ya(a.resources,this),this.alarms=new Dn(a.alarms,this),this.vault=new Qu(a.vault,this),this.webscripts=new tc(u(u({},a.webscripts),{},{registry:a.registry}),this),this.analytics=new cc(a.analytics,this),this.policies=new pc(a.policies,this),this.templates=new dc(a.templates,this),this.organisationSettings=new vc(a.api,this),this.users=new sf(a.accounts,this),this.tenants=new uf(a.accounts,this),this.roles=new cf(a.accounts,this),this.predefinedRoles=new ff(a.accounts,this),this.permissions=new lf(a.accounts,this),this.twoFA=new Sf(a.accounts,this),this.tokens=new qf(a.accounts,this),this.converter=new gc(a.converter,this),this.byoml=new Nn(a.byoml,this),this.stats=new ga(a.stats,this),this.constraints=new _c(a.constraints,this),this.hoard=new jc(a.hoard,this),this.storage=new af(a.storage,this),this.httpClient.interceptors.request.use((function(e){return i(e)?t.tokens.refresh().then((function(r){var n=r.token,o=r.refresh_token;return t.setToken(n),t.setRefreshToken(o),e})):e}),(function(t){console.error("Failed to refresh token"),console.error(t)}));var i=function(e){var r=e.params,n=r&&"refresh_token"===r.grant_type;if(n)return!1;var o=t._token&&t._refreshToken;if(!o)return!1;var a=xf(t._token)&&!xf(t._refreshToken);return!n&&o&&a}}var o;return a(e,[{key:"token",get:function(){return this._token},set:function(t){return this.setToken(t)}},{key:"domain",get:function(){return this._tokenDomain?this._tokenDomain:this._domain?this._domain:this._settings&&this._settings.waylay_domain?this._settings.waylay_domain:""},set:function(t){this.setDomain(t)}},{key:"setToken",value:function(t){this._token=t,this._tokenDomain=null;try{this._tokenDomain=tn(this._token).domain}catch(t){}return this}},{key:"setRefreshToken",value:function(t){return this._refreshToken=t,this}},{key:"setDomain",value:function(t){return this._domain=t,this}},{key:"login",value:function(t,e){var r=this;return this._request({method:"POST",path:"/api/auth/token",data:{grant_type:"password",username:t,password:e}}).then((function(t){return r.setToken(t.access_token),t}))}},{key:"ping",value:function(){return this._request({path:"/api/ping"})}},{key:"me",value:function(){return this._request({path:"/api/auth/me"})}},{key:"loadSettings",value:(o=r(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.settings().then((function(t){return e.withSettings(t)})));case 1:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"withSettings",value:function(t){return this._settings=t,this}},{key:"settings",value:function(){return this.organisationSettings.list()}},{key:"baseUrl",get:function(){var t=this._settings&&this._settings.waylay_api,e=this._settings&&this._settings.waylay_domain,r=t||this._domain||e||this._tokenDomain||"";return""===r&&Cf("WARNING: requested baseUrl while none of the sources are configured."),oe(r,{https:!0})}},{key:"_request",value:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(r=Object.assign({method:"GET",url:Ar.resolve(this.baseUrl,r.path||""),paramsSerializer:function(t){return fn(t,{sort:!1})}},r)).url=Af(r.url)?r.url:encodeURI(r.url),"undefined"==typeof window&&"object"===("undefined"==typeof process?"undefined":t(process))&&(r.headers=Object.assign({},r.headers,{"User-Agent":"waylay-js"})),this.auth&&(r.auth=this.auth),this.token&&(r.headers=Object.assign({},r.headers,{Authorization:"Bearer ".concat(this.token)})),Cf("Making request: \n%O",r),this.httpClient(r).then((function(t){return e.wantsFullResponse||r.wantsFullResponse?t:t.data}))}}]),e}()}));
