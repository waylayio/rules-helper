/**
 * @namespace batch
 * @memberof Tasks
 */
function batch () {
  /**
   * Start a task batch
   *
   * @memberof Tasks.batch
   * @param  {string} action Action you want to perform
   * @param  {Object} query Query to select which task should be targeted
   * @return {Promise<Batch>}
   */
  const raw = (...args) => this._batch('task', ...args)

  /**
   * Start tasks in batch
   *
   * @memberof Tasks.batch
   * @param  {string[]} ids Array of task id's you want to start
   * @return {Promise<Batch>}
   */
  const start = ids => raw('start', { ids })

  /**
   * Stop tasks in batch
   *
   * @memberof Tasks.batch
   * @param  {string[]} ids Array of task id's you want to stop
   * @return {Promise<Batch>}
   */
  const stop = ids => raw('stop', { ids })

  /**
   * Remove tasks in batch
   *
   * @memberof Tasks.batch
   * @param  {string[]} ids Array of task id's you want to remove
   * @return {Promise<Batch>}
   */
  const remove = ids => raw('delete', { ids })

  return {
    raw,
    start,
    stop,
    remove
  }
}

module.exports = batch
