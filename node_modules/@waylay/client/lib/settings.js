'use strict'

const Resource = require('./resource')

/**
*  @namespace OrganisationSettings
 * @description Allows you to manage your organisation's settings
 */
class OrganisationSettings extends Resource {
  /**
   * Retrieve your organisation's settings
   *
   * @return {Promise<{}>}
   */
  list () {
    return this._request({ path: '/api/settings' })
  }

  /**
   * Set a new setting, will overwrite any existing key/value
   * @param  {string} key
   * @param  {string} value
   * @return {Promise}
   */
  set (key, value) {
    return this._request({
      method: 'POST',
      path: '/api/settings',
      responseType: 'json',
      data: { [key]: value }
    })
  }

  /**
   * Remove a vault entry
   * @param  {string} key
   * @return {Promise}
   */
  remove (key) {
    return this._request({
      method: 'DELETE',
      path: `/api/settings/${key}`
    })
  }
}

module.exports = OrganisationSettings
